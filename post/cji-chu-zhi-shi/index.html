<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>C++åŸºç¡€çŸ¥è¯† | tangyin</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://tangyin1.github.io/favicon.ico?v=1697612449142">
<link rel="stylesheet" href="https://tangyin1.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="ğŸ’¡ğŸ’¡ğŸ’¡é»‘é©¬ç¨‹åºå‘˜C++åŒæ­¥ç¬”è®°ğŸ’¡ğŸ’¡ğŸ’¡

C++æ ¸å¿ƒç¼–ç¨‹
æœ¬é˜¶æ®µä¸»è¦é’ˆå¯¹C++é¢å‘å¯¹è±¡ç¼–ç¨‹æŠ€æœ¯åšè¯¦ç»†è®²è§£ï¼Œæ¢è®¨C++ä¸­çš„æ ¸å¿ƒå’Œç²¾é«“ã€‚
1 å†…å­˜åˆ†åŒºæ¨¡å‹
C++ç¨‹åºåœ¨æ‰§è¡Œæ—¶ï¼Œå°†å†…å­˜å¤§æ–¹å‘åˆ’åˆ†ä¸º4ä¸ªåŒºåŸŸ

ä»£ç åŒºï¼šå­˜æ”¾å‡½æ•°ä½“çš„äºŒè¿›åˆ¶ä»£..." />
    <meta name="keywords" content="" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://tangyin1.github.io">
        <img src="https://tangyin1.github.io/images/avatar.png?v=1697612449142" class="site-logo">
        <h1 class="site-title">tangyin</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            å…³äº
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      æ¸©æ•…è€ŒçŸ¥æ–°
    </div>
    <div class="site-footer">
      welcome <a href="https://github.com/getgridea/gridea" target="_blank">mygithub</a> | <a class="rss" href="https://tangyin1.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">C++åŸºç¡€çŸ¥è¯†</h2>
            <div class="post-date">2023-08-28</div>
            
              <div class="feature-container" style="background-image: url('https://tangyin1.github.io/post-images/cji-chu-zhi-shi.jpg')">
              </div>
            
            <div class="post-content" v-pre>
              <p>ğŸ’¡ğŸ’¡ğŸ’¡é»‘é©¬ç¨‹åºå‘˜C++åŒæ­¥ç¬”è®°ğŸ’¡ğŸ’¡ğŸ’¡</p>
<!-- more -->
<h1 id="cæ ¸å¿ƒç¼–ç¨‹">C++æ ¸å¿ƒç¼–ç¨‹</h1>
<p>æœ¬é˜¶æ®µä¸»è¦é’ˆå¯¹C++<mark>é¢å‘å¯¹è±¡</mark>ç¼–ç¨‹æŠ€æœ¯åšè¯¦ç»†è®²è§£ï¼Œæ¢è®¨C++ä¸­çš„æ ¸å¿ƒå’Œç²¾é«“ã€‚</p>
<h2 id="1-å†…å­˜åˆ†åŒºæ¨¡å‹">1 å†…å­˜åˆ†åŒºæ¨¡å‹</h2>
<p>C++ç¨‹åºåœ¨æ‰§è¡Œæ—¶ï¼Œå°†å†…å­˜å¤§æ–¹å‘åˆ’åˆ†ä¸º<strong>4ä¸ªåŒºåŸŸ</strong></p>
<ul>
<li>ä»£ç åŒºï¼šå­˜æ”¾å‡½æ•°ä½“çš„äºŒè¿›åˆ¶ä»£ç ï¼Œç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†çš„</li>
<li>å…¨å±€åŒºï¼šå­˜æ”¾å…¨å±€å˜é‡å’Œé™æ€å˜é‡ä»¥åŠå¸¸é‡</li>
<li>æ ˆåŒºï¼šç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾, å­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼,å±€éƒ¨å˜é‡ç­‰</li>
<li>å †åŒºï¼šç”±ç¨‹åºå‘˜åˆ†é…å’Œé‡Šæ”¾,è‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾,ç¨‹åºç»“æŸæ—¶ç”±æ“ä½œç³»ç»Ÿå›æ”¶</li>
</ul>
<p><strong>å†…å­˜å››åŒºæ„ä¹‰ï¼š</strong></p>
<p>ä¸åŒåŒºåŸŸå­˜æ”¾çš„æ•°æ®ï¼Œèµ‹äºˆä¸åŒçš„ç”Ÿå‘½å‘¨æœŸ, ç»™æˆ‘ä»¬æ›´å¤§çš„çµæ´»ç¼–ç¨‹</p>
<h3 id="11-ç¨‹åºè¿è¡Œå‰">1.1 ç¨‹åºè¿è¡Œå‰</h3>
<p>â€‹	åœ¨ç¨‹åºç¼–è¯‘åï¼Œç”Ÿæˆäº†exeå¯æ‰§è¡Œç¨‹åºï¼Œ<strong>æœªæ‰§è¡Œè¯¥ç¨‹åºå‰</strong>åˆ†ä¸ºä¸¤ä¸ªåŒºåŸŸ</p>
<p>â€‹	<strong>ä»£ç åŒºï¼š</strong></p>
<p>â€‹		å­˜æ”¾ CPU æ‰§è¡Œçš„æœºå™¨æŒ‡ä»¤</p>
<p>â€‹		ä»£ç åŒºæ˜¯<strong>å…±äº«</strong>çš„ï¼Œå…±äº«çš„ç›®çš„æ˜¯å¯¹äºé¢‘ç¹è¢«æ‰§è¡Œçš„ç¨‹åºï¼Œåªéœ€è¦åœ¨å†…å­˜ä¸­æœ‰ä¸€ä»½ä»£ç å³å¯</p>
<p>â€‹		ä»£ç åŒºæ˜¯<strong>åªè¯»</strong>çš„ï¼Œä½¿å…¶åªè¯»çš„åŸå› æ˜¯é˜²æ­¢ç¨‹åºæ„å¤–åœ°ä¿®æ”¹äº†å®ƒçš„æŒ‡ä»¤</p>
<p>â€‹	<strong>å…¨å±€åŒºï¼š</strong></p>
<p>â€‹		å…¨å±€å˜é‡å’Œé™æ€å˜é‡å­˜æ”¾åœ¨æ­¤.</p>
<p>â€‹		å…¨å±€åŒºè¿˜åŒ…å«äº†å¸¸é‡åŒº, å­—ç¬¦ä¸²å¸¸é‡å’Œå…¶ä»–å¸¸é‡ä¹Ÿå­˜æ”¾åœ¨æ­¤.</p>
<p>â€‹		<mark>è¯¥åŒºåŸŸçš„æ•°æ®åœ¨ç¨‹åºç»“æŸåç”±æ“ä½œç³»ç»Ÿé‡Šæ”¾</mark>.</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-c++">//å…¨å±€å˜é‡
int g_a = 10;
int g_b = 10;

//å…¨å±€å¸¸é‡
const int c_g_a = 10;
const int c_g_b = 10;

int main() {

	//å±€éƒ¨å˜é‡
	int a = 10;
	int b = 10;

	//æ‰“å°åœ°å€
	cout &lt;&lt; &quot;å±€éƒ¨å˜é‡aåœ°å€ä¸ºï¼š &quot; &lt;&lt; (int)&amp;a &lt;&lt; endl;
	cout &lt;&lt; &quot;å±€éƒ¨å˜é‡båœ°å€ä¸ºï¼š &quot; &lt;&lt; (int)&amp;b &lt;&lt; endl;

	cout &lt;&lt; &quot;å…¨å±€å˜é‡g_aåœ°å€ä¸ºï¼š &quot; &lt;&lt;  (int)&amp;g_a &lt;&lt; endl;
	cout &lt;&lt; &quot;å…¨å±€å˜é‡g_båœ°å€ä¸ºï¼š &quot; &lt;&lt;  (int)&amp;g_b &lt;&lt; endl;

	//é™æ€å˜é‡
	static int s_a = 10;
	static int s_b = 10;

	cout &lt;&lt; &quot;é™æ€å˜é‡s_aåœ°å€ä¸ºï¼š &quot; &lt;&lt; (int)&amp;s_a &lt;&lt; endl;
	cout &lt;&lt; &quot;é™æ€å˜é‡s_båœ°å€ä¸ºï¼š &quot; &lt;&lt; (int)&amp;s_b &lt;&lt; endl;

	cout &lt;&lt; &quot;å­—ç¬¦ä¸²å¸¸é‡åœ°å€ä¸ºï¼š &quot; &lt;&lt; (int)&amp;&quot;hello world&quot; &lt;&lt; endl;
	cout &lt;&lt; &quot;å­—ç¬¦ä¸²å¸¸é‡åœ°å€ä¸ºï¼š &quot; &lt;&lt; (int)&amp;&quot;hello world1&quot; &lt;&lt; endl;

	cout &lt;&lt; &quot;å…¨å±€å¸¸é‡c_g_aåœ°å€ä¸ºï¼š &quot; &lt;&lt; (int)&amp;c_g_a &lt;&lt; endl;
	cout &lt;&lt; &quot;å…¨å±€å¸¸é‡c_g_båœ°å€ä¸ºï¼š &quot; &lt;&lt; (int)&amp;c_g_b &lt;&lt; endl;

	const int c_l_a = 10;
	const int c_l_b = 10;
	cout &lt;&lt; &quot;å±€éƒ¨å¸¸é‡c_l_aåœ°å€ä¸ºï¼š &quot; &lt;&lt; (int)&amp;c_l_a &lt;&lt; endl;
	cout &lt;&lt; &quot;å±€éƒ¨å¸¸é‡c_l_båœ°å€ä¸ºï¼š &quot; &lt;&lt; (int)&amp;c_l_b &lt;&lt; endl;

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>C++ä¸­åœ¨ç¨‹åºè¿è¡Œå‰åˆ†ä¸ºå…¨å±€åŒºå’Œä»£ç åŒº</li>
<li>ä»£ç åŒºç‰¹ç‚¹æ˜¯å…±äº«å’Œåªè¯»</li>
<li>å…¨å±€åŒºä¸­å­˜æ”¾å…¨å±€å˜é‡ã€é™æ€å˜é‡ã€å¸¸é‡</li>
<li>å¸¸é‡åŒºä¸­å­˜æ”¾ constä¿®é¥°çš„å…¨å±€å¸¸é‡  å’Œ å­—ç¬¦ä¸²å¸¸é‡</li>
</ul>
<h3 id="12-ç¨‹åºè¿è¡Œå">1.2 ç¨‹åºè¿è¡Œå</h3>
<p>â€‹	<strong>æ ˆåŒºï¼š</strong></p>
<p>â€‹		ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾, å­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼,å±€éƒ¨å˜é‡ç­‰</p>
<p>â€‹		æ³¨æ„äº‹é¡¹ï¼šä¸è¦è¿”å›å±€éƒ¨å˜é‡çš„åœ°å€ï¼Œæ ˆåŒºå¼€è¾Ÿçš„æ•°æ®ç”±ç¼–è¯‘å™¨è‡ªåŠ¨é‡Šæ”¾</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-c++">int * func()
{
	int a = 10;
	return &amp;a;
}

int main() {

	int *p = func();

	cout &lt;&lt; *p &lt;&lt; endl;
	cout &lt;&lt; *p &lt;&lt; endl;

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p>â€‹	<strong>å †åŒºï¼š</strong></p>
<p>â€‹		ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾,è‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾,ç¨‹åºç»“æŸæ—¶ç”±æ“ä½œç³»ç»Ÿå›æ”¶</p>
<p>â€‹		åœ¨C++ä¸­ä¸»è¦åˆ©ç”¨newåœ¨å †åŒºå¼€è¾Ÿå†…å­˜</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-c++">int* func()
{
	int* a = new int(10);
	return a;
}

int main() {

	int *p = func();

	cout &lt;&lt; *p &lt;&lt; endl;
	cout &lt;&lt; *p &lt;&lt; endl;
    
	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p><strong>æ€»ç»“ï¼š</strong></p>
<p>å †åŒºæ•°æ®ç”±ç¨‹åºå‘˜ç®¡ç†å¼€è¾Ÿå’Œé‡Šæ”¾</p>
<p>å †åŒºæ•°æ®åˆ©ç”¨newå…³é”®å­—è¿›è¡Œå¼€è¾Ÿå†…å­˜</p>
<h3 id="13-newæ“ä½œç¬¦">1.3 newæ“ä½œç¬¦</h3>
<p>â€‹	C++ä¸­åˆ©ç”¨<mark>new</mark>æ“ä½œç¬¦åœ¨å †åŒºå¼€è¾Ÿæ•°æ®</p>
<p>â€‹	å †åŒºå¼€è¾Ÿçš„æ•°æ®ï¼Œç”±ç¨‹åºå‘˜æ‰‹åŠ¨å¼€è¾Ÿï¼Œæ‰‹åŠ¨é‡Šæ”¾ï¼Œé‡Šæ”¾åˆ©ç”¨æ“ä½œç¬¦ <mark>delete</mark></p>
<p>â€‹	è¯­æ³•ï¼š<code>new æ•°æ®ç±»å‹</code></p>
<p>â€‹	åˆ©ç”¨newåˆ›å»ºçš„æ•°æ®ï¼Œä¼šè¿”å›è¯¥æ•°æ®å¯¹åº”çš„ç±»å‹çš„æŒ‡é’ˆ</p>
<p><strong>ç¤ºä¾‹1ï¼š åŸºæœ¬è¯­æ³•</strong></p>
<pre><code class="language-c++">int* func()
{
	int* a = new int(10);
	return a;
}

int main() {

	int *p = func();

	cout &lt;&lt; *p &lt;&lt; endl;
	cout &lt;&lt; *p &lt;&lt; endl;

	//åˆ©ç”¨deleteé‡Šæ”¾å †åŒºæ•°æ®
	delete p;

	//cout &lt;&lt; *p &lt;&lt; endl; //æŠ¥é”™ï¼Œé‡Šæ”¾çš„ç©ºé—´ä¸å¯è®¿é—®

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p><strong>ç¤ºä¾‹2ï¼šå¼€è¾Ÿæ•°ç»„</strong></p>
<pre><code class="language-c++">//å †åŒºå¼€è¾Ÿæ•°ç»„
int main() {

	int* arr = new int[10];

	for (int i = 0; i &lt; 10; i++)
	{
		arr[i] = i + 100;
	}

	for (int i = 0; i &lt; 10; i++)
	{
		cout &lt;&lt; arr[i] &lt;&lt; endl;
	}
	//é‡Šæ”¾æ•°ç»„ delete ååŠ  []
	delete[] arr;

	system(&quot;pause&quot;);

	return 0;
}

</code></pre>
<h2 id="2-å¼•ç”¨">2 å¼•ç”¨</h2>
<h3 id="21-å¼•ç”¨çš„åŸºæœ¬ä½¿ç”¨">2.1 å¼•ç”¨çš„åŸºæœ¬ä½¿ç”¨</h3>
<p>**ä½œç”¨ï¼š **ç»™å˜é‡èµ·åˆ«å</p>
<p><strong>è¯­æ³•ï¼š</strong> <code>æ•°æ®ç±»å‹ &amp;åˆ«å = åŸå</code></p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">int main() {

	int a = 10;
	int &amp;b = a;

	cout &lt;&lt; &quot;a = &quot; &lt;&lt; a &lt;&lt; endl;
	cout &lt;&lt; &quot;b = &quot; &lt;&lt; b &lt;&lt; endl;

	b = 100;

	cout &lt;&lt; &quot;a = &quot; &lt;&lt; a &lt;&lt; endl;
	cout &lt;&lt; &quot;b = &quot; &lt;&lt; b &lt;&lt; endl;

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h3 id="22-å¼•ç”¨æ³¨æ„äº‹é¡¹">2.2 å¼•ç”¨æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>å¼•ç”¨å¿…é¡»åˆå§‹åŒ–</li>
<li>å¼•ç”¨åœ¨åˆå§‹åŒ–åï¼Œä¸å¯ä»¥æ”¹å˜</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-C++">int main() {

	int a = 10;
	int b = 20;
	//int &amp;c; //é”™è¯¯ï¼Œå¼•ç”¨å¿…é¡»åˆå§‹åŒ–
	int &amp;c = a; //ä¸€æ—¦åˆå§‹åŒ–åï¼Œå°±ä¸å¯ä»¥æ›´æ”¹
	c = b; //è¿™æ˜¯èµ‹å€¼æ“ä½œï¼Œä¸æ˜¯æ›´æ”¹å¼•ç”¨

	cout &lt;&lt; &quot;a = &quot; &lt;&lt; a &lt;&lt; endl;
	cout &lt;&lt; &quot;b = &quot; &lt;&lt; b &lt;&lt; endl;
	cout &lt;&lt; &quot;c = &quot; &lt;&lt; c &lt;&lt; endl;

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h3 id="23-å¼•ç”¨åšå‡½æ•°å‚æ•°">2.3 å¼•ç”¨åšå‡½æ•°å‚æ•°</h3>
<p>**ä½œç”¨ï¼š**å‡½æ•°ä¼ å‚æ—¶ï¼Œå¯ä»¥åˆ©ç”¨å¼•ç”¨çš„æŠ€æœ¯è®©å½¢å‚ä¿®é¥°å®å‚</p>
<p>**ä¼˜ç‚¹ï¼š**å¯ä»¥ç®€åŒ–æŒ‡é’ˆä¿®æ”¹å®å‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">//1. å€¼ä¼ é€’
void mySwap01(int a, int b) {
	int temp = a;
	a = b;
	b = temp;
}

//2. åœ°å€ä¼ é€’
void mySwap02(int* a, int* b) {
	int temp = *a;
	*a = *b;
	*b = temp;
}

//3. å¼•ç”¨ä¼ é€’
void mySwap03(int&amp; a, int&amp; b) {
	int temp = a;
	a = b;
	b = temp;
}

int main() {

	int a = 10;
	int b = 20;

	mySwap01(a, b);
	cout &lt;&lt; &quot;a:&quot; &lt;&lt; a &lt;&lt; &quot; b:&quot; &lt;&lt; b &lt;&lt; endl;

	mySwap02(&amp;a, &amp;b);
	cout &lt;&lt; &quot;a:&quot; &lt;&lt; a &lt;&lt; &quot; b:&quot; &lt;&lt; b &lt;&lt; endl;

	mySwap03(a, b);
	cout &lt;&lt; &quot;a:&quot; &lt;&lt; a &lt;&lt; &quot; b:&quot; &lt;&lt; b &lt;&lt; endl;

	system(&quot;pause&quot;);

	return 0;
}

</code></pre>
<blockquote>
<p>æ€»ç»“ï¼šé€šè¿‡å¼•ç”¨å‚æ•°äº§ç”Ÿçš„æ•ˆæœåŒæŒ‰åœ°å€ä¼ é€’æ˜¯ä¸€æ ·çš„ã€‚å¼•ç”¨çš„è¯­æ³•æ›´æ¸…æ¥šç®€å•</p>
</blockquote>
<h3 id="24-å¼•ç”¨åšå‡½æ•°è¿”å›å€¼">2.4 å¼•ç”¨åšå‡½æ•°è¿”å›å€¼</h3>
<p>ä½œç”¨ï¼šå¼•ç”¨æ˜¯å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼å­˜åœ¨çš„</p>
<p>æ³¨æ„ï¼š<strong>ä¸è¦è¿”å›å±€éƒ¨å˜é‡å¼•ç”¨</strong></p>
<p>ç”¨æ³•ï¼šå‡½æ•°è°ƒç”¨ä½œä¸ºå·¦å€¼</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">//è¿”å›å±€éƒ¨å˜é‡å¼•ç”¨
int&amp; test01() {
	int a = 10; //å±€éƒ¨å˜é‡
	return a;
}

//è¿”å›é™æ€å˜é‡å¼•ç”¨
int&amp; test02() {
	static int a = 20;
	return a;
}

int main() {

	//ä¸èƒ½è¿”å›å±€éƒ¨å˜é‡çš„å¼•ç”¨
	int&amp; ref = test01();
	cout &lt;&lt; &quot;ref = &quot; &lt;&lt; ref &lt;&lt; endl;
	cout &lt;&lt; &quot;ref = &quot; &lt;&lt; ref &lt;&lt; endl;

	//å¦‚æœå‡½æ•°åšå·¦å€¼ï¼Œé‚£ä¹ˆå¿…é¡»è¿”å›å¼•ç”¨
	int&amp; ref2 = test02();
	cout &lt;&lt; &quot;ref2 = &quot; &lt;&lt; ref2 &lt;&lt; endl;
	cout &lt;&lt; &quot;ref2 = &quot; &lt;&lt; ref2 &lt;&lt; endl;

	test02() = 1000;

	cout &lt;&lt; &quot;ref2 = &quot; &lt;&lt; ref2 &lt;&lt; endl;
	cout &lt;&lt; &quot;ref2 = &quot; &lt;&lt; ref2 &lt;&lt; endl;

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p>â€‹</p>
<h3 id="25-å¼•ç”¨çš„æœ¬è´¨">2.5 å¼•ç”¨çš„æœ¬è´¨</h3>
<p>æœ¬è´¨ï¼š<strong>å¼•ç”¨çš„æœ¬è´¨åœ¨c++å†…éƒ¨å®ç°æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¸¸é‡.</strong></p>
<p>è®²è§£ç¤ºä¾‹ï¼š</p>
<pre><code class="language-C++">//å‘ç°æ˜¯å¼•ç”¨ï¼Œè½¬æ¢ä¸º int* const ref = &amp;a;
void func(int&amp; ref){
	ref = 100; // refæ˜¯å¼•ç”¨ï¼Œè½¬æ¢ä¸º*ref = 100
}
int main(){
	int a = 10;
    
    //è‡ªåŠ¨è½¬æ¢ä¸º int* const ref = &amp;a; æŒ‡é’ˆå¸¸é‡æ˜¯æŒ‡é’ˆæŒ‡å‘ä¸å¯æ”¹ï¼Œä¹Ÿè¯´æ˜ä¸ºä»€ä¹ˆå¼•ç”¨ä¸å¯æ›´æ”¹
	int&amp; ref = a; 
	ref = 20; //å†…éƒ¨å‘ç°refæ˜¯å¼•ç”¨ï¼Œè‡ªåŠ¨å¸®æˆ‘ä»¬è½¬æ¢ä¸º: *ref = 20;
    
	cout &lt;&lt; &quot;a:&quot; &lt;&lt; a &lt;&lt; endl;
	cout &lt;&lt; &quot;ref:&quot; &lt;&lt; ref &lt;&lt; endl;
    
	func(a);
	return 0;
}
</code></pre>
<p>ç»“è®ºï¼šC++æ¨èç”¨å¼•ç”¨æŠ€æœ¯ï¼Œå› ä¸ºè¯­æ³•æ–¹ä¾¿ï¼Œå¼•ç”¨æœ¬è´¨æ˜¯æŒ‡é’ˆå¸¸é‡ï¼Œä½†æ˜¯æ‰€æœ‰çš„æŒ‡é’ˆæ“ä½œç¼–è¯‘å™¨éƒ½å¸®æˆ‘ä»¬åšäº†</p>
<h3 id="26-å¸¸é‡å¼•ç”¨">2.6 å¸¸é‡å¼•ç”¨</h3>
<p>**ä½œç”¨ï¼š**å¸¸é‡å¼•ç”¨ä¸»è¦ç”¨æ¥ä¿®é¥°å½¢å‚ï¼Œé˜²æ­¢è¯¯æ“ä½œ</p>
<p>åœ¨å‡½æ•°å½¢å‚åˆ—è¡¨ä¸­ï¼Œå¯ä»¥åŠ <mark>constä¿®é¥°å½¢å‚</mark>ï¼Œé˜²æ­¢å½¢å‚æ”¹å˜å®å‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">//å¼•ç”¨ä½¿ç”¨çš„åœºæ™¯ï¼Œé€šå¸¸ç”¨æ¥ä¿®é¥°å½¢å‚
void showValue(const int&amp; v) {
	//v += 10;
	cout &lt;&lt; v &lt;&lt; endl;
}

int main() {

	//int&amp; ref = 10;  å¼•ç”¨æœ¬èº«éœ€è¦ä¸€ä¸ªåˆæ³•çš„å†…å­˜ç©ºé—´ï¼Œå› æ­¤è¿™è¡Œé”™è¯¯
	//åŠ å…¥constå°±å¯ä»¥äº†ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–ä»£ç ï¼Œint temp = 10; const int&amp; ref = temp;
	const int&amp; ref = 10;

	//ref = 100;  //åŠ å…¥conståä¸å¯ä»¥ä¿®æ”¹å˜é‡
	cout &lt;&lt; ref &lt;&lt; endl;

	//å‡½æ•°ä¸­åˆ©ç”¨å¸¸é‡å¼•ç”¨é˜²æ­¢è¯¯æ“ä½œä¿®æ”¹å®å‚
	int a = 10;
	showValue(a);

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h2 id="3-å‡½æ•°æé«˜">3 å‡½æ•°æé«˜</h2>
<h3 id="31-å‡½æ•°é»˜è®¤å‚æ•°">3.1 å‡½æ•°é»˜è®¤å‚æ•°</h3>
<p>åœ¨C++ä¸­ï¼Œå‡½æ•°çš„å½¢å‚åˆ—è¡¨ä¸­çš„å½¢å‚æ˜¯å¯ä»¥æœ‰é»˜è®¤å€¼çš„ã€‚</p>
<p>è¯­æ³•ï¼š<code>è¿”å›å€¼ç±»å‹ å‡½æ•°å ï¼ˆå‚æ•°= é»˜è®¤å€¼ï¼‰{}</code></p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">int func(int a, int b = 10, int c = 10) {
	return a + b + c;
}

//1. å¦‚æœæŸä¸ªä½ç½®å‚æ•°æœ‰é»˜è®¤å€¼ï¼Œé‚£ä¹ˆä»è¿™ä¸ªä½ç½®å¾€åï¼Œä»å·¦å‘å³ï¼Œå¿…é¡»éƒ½è¦æœ‰é»˜è®¤å€¼
//2. å¦‚æœå‡½æ•°å£°æ˜æœ‰é»˜è®¤å€¼ï¼Œå‡½æ•°å®ç°çš„æ—¶å€™å°±ä¸èƒ½æœ‰é»˜è®¤å‚æ•°
int func2(int a = 10, int b = 10);
int func2(int a, int b) {
	return a + b;
}

int main() {

	cout &lt;&lt; &quot;ret = &quot; &lt;&lt; func(20, 20) &lt;&lt; endl;
	cout &lt;&lt; &quot;ret = &quot; &lt;&lt; func(100) &lt;&lt; endl;

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h3 id="32-å‡½æ•°å ä½å‚æ•°">3.2 å‡½æ•°å ä½å‚æ•°</h3>
<p>C++ä¸­å‡½æ•°çš„å½¢å‚åˆ—è¡¨é‡Œå¯ä»¥æœ‰å ä½å‚æ•°ï¼Œç”¨æ¥åšå ä½ï¼Œè°ƒç”¨å‡½æ•°æ—¶å¿…é¡»å¡«è¡¥è¯¥ä½ç½®</p>
<p><strong>è¯­æ³•ï¼š</strong> <code>è¿”å›å€¼ç±»å‹ å‡½æ•°å (æ•°æ®ç±»å‹){}</code></p>
<p>åœ¨ç°é˜¶æ®µå‡½æ•°çš„å ä½å‚æ•°å­˜åœ¨æ„ä¹‰ä¸å¤§ï¼Œä½†æ˜¯åé¢çš„è¯¾ç¨‹ä¸­ä¼šç”¨åˆ°è¯¥æŠ€æœ¯</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">//å‡½æ•°å ä½å‚æ•° ï¼Œå ä½å‚æ•°ä¹Ÿå¯ä»¥æœ‰é»˜è®¤å‚æ•°
void func(int a, int) {
	cout &lt;&lt; &quot;this is func&quot; &lt;&lt; endl;
}

int main() {

	func(10,10); //å ä½å‚æ•°å¿…é¡»å¡«è¡¥

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h3 id="33-å‡½æ•°é‡è½½">3.3 å‡½æ•°é‡è½½</h3>
<h4 id="331-å‡½æ•°é‡è½½æ¦‚è¿°">3.3.1 å‡½æ•°é‡è½½æ¦‚è¿°</h4>
<p>**ä½œç”¨ï¼š**å‡½æ•°åå¯ä»¥ç›¸åŒï¼Œæé«˜å¤ç”¨æ€§</p>
<p><strong>å‡½æ•°é‡è½½æ»¡è¶³æ¡ä»¶ï¼š</strong></p>
<ul>
<li>åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹</li>
<li>å‡½æ•°åç§°ç›¸åŒ</li>
<li>å‡½æ•°å‚æ•°<strong>ç±»å‹ä¸åŒ</strong>  æˆ–è€… <strong>ä¸ªæ•°ä¸åŒ</strong> æˆ–è€… <strong>é¡ºåºä¸åŒ</strong></li>
</ul>
<p><strong>æ³¨æ„:</strong>  å‡½æ•°çš„è¿”å›å€¼ä¸å¯ä»¥ä½œä¸ºå‡½æ•°é‡è½½çš„æ¡ä»¶</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">//å‡½æ•°é‡è½½éœ€è¦å‡½æ•°éƒ½åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹
void func()
{
	cout &lt;&lt; &quot;func çš„è°ƒç”¨ï¼&quot; &lt;&lt; endl;
}
void func(int a)
{
	cout &lt;&lt; &quot;func (int a) çš„è°ƒç”¨ï¼&quot; &lt;&lt; endl;
}
void func(double a)
{
	cout &lt;&lt; &quot;func (double a)çš„è°ƒç”¨ï¼&quot; &lt;&lt; endl;
}
void func(int a ,double b)
{
	cout &lt;&lt; &quot;func (int a ,double b) çš„è°ƒç”¨ï¼&quot; &lt;&lt; endl;
}
void func(double a ,int b)
{
	cout &lt;&lt; &quot;func (double a ,int b)çš„è°ƒç”¨ï¼&quot; &lt;&lt; endl;
}

//å‡½æ•°è¿”å›å€¼ä¸å¯ä»¥ä½œä¸ºå‡½æ•°é‡è½½æ¡ä»¶
//int func(double a, int b)
//{
//	cout &lt;&lt; &quot;func (double a ,int b)çš„è°ƒç”¨ï¼&quot; &lt;&lt; endl;
//}


int main() {

	func();
	func(10);
	func(3.14);
	func(10,3.14);
	func(3.14 , 10);
	
	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="332-å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹">3.3.2 å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>å¼•ç”¨ä½œä¸ºé‡è½½æ¡ä»¶</li>
<li>å‡½æ•°é‡è½½ç¢°åˆ°å‡½æ•°é»˜è®¤å‚æ•°</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">//å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹
//1ã€å¼•ç”¨ä½œä¸ºé‡è½½æ¡ä»¶

void func(int &amp;a)
{
	cout &lt;&lt; &quot;func (int &amp;a) è°ƒç”¨ &quot; &lt;&lt; endl;
}

void func(const int &amp;a)
{
	cout &lt;&lt; &quot;func (const int &amp;a) è°ƒç”¨ &quot; &lt;&lt; endl;
}


//2ã€å‡½æ•°é‡è½½ç¢°åˆ°å‡½æ•°é»˜è®¤å‚æ•°

void func2(int a, int b = 10)
{
	cout &lt;&lt; &quot;func2(int a, int b = 10) è°ƒç”¨&quot; &lt;&lt; endl;
}

void func2(int a)
{
	cout &lt;&lt; &quot;func2(int a) è°ƒç”¨&quot; &lt;&lt; endl;
}

int main() {
	
	int a = 10;
	func(a); //è°ƒç”¨æ— const
	func(10);//è°ƒç”¨æœ‰const


	//func2(10); //ç¢°åˆ°é»˜è®¤å‚æ•°äº§ç”Ÿæ­§ä¹‰ï¼Œéœ€è¦é¿å…

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h2 id="4-ç±»å’Œå¯¹è±¡"><strong>4</strong> ç±»å’Œå¯¹è±¡</h2>
<p>C++é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§ä¸ºï¼š<mark>å°è£…ã€ç»§æ‰¿ã€å¤šæ€</mark></p>
<p>C++è®¤ä¸º<mark>ä¸‡äº‹ä¸‡ç‰©éƒ½çš†ä¸ºå¯¹è±¡</mark>ï¼Œå¯¹è±¡ä¸Šæœ‰å…¶å±æ€§å’Œè¡Œä¸º</p>
<p><strong>ä¾‹å¦‚ï¼š</strong></p>
<p>â€‹	äººå¯ä»¥ä½œä¸ºå¯¹è±¡ï¼Œå±æ€§æœ‰å§“åã€å¹´é¾„ã€èº«é«˜ã€ä½“é‡...ï¼Œè¡Œä¸ºæœ‰èµ°ã€è·‘ã€è·³ã€åƒé¥­ã€å”±æ­Œ...</p>
<p>â€‹	è½¦ä¹Ÿå¯ä»¥ä½œä¸ºå¯¹è±¡ï¼Œå±æ€§æœ‰è½®èƒã€æ–¹å‘ç›˜ã€è½¦ç¯...,è¡Œä¸ºæœ‰è½½äººã€æ”¾éŸ³ä¹ã€æ”¾ç©ºè°ƒ...</p>
<p>â€‹	å…·æœ‰ç›¸åŒæ€§è´¨çš„<mark>å¯¹è±¡</mark>ï¼Œæˆ‘ä»¬å¯ä»¥æŠ½è±¡ç§°ä¸º<mark>ç±»</mark>ï¼Œäººå±äºäººç±»ï¼Œè½¦å±äºè½¦ç±»</p>
<h3 id="41-å°è£…">4.1 å°è£…</h3>
<h4 id="411-å°è£…çš„æ„ä¹‰">4.1.1  å°è£…çš„æ„ä¹‰</h4>
<p>å°è£…æ˜¯C++é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€</p>
<p>å°è£…çš„æ„ä¹‰ï¼š</p>
<ul>
<li>å°†å±æ€§å’Œè¡Œä¸ºä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œè¡¨ç°ç”Ÿæ´»ä¸­çš„äº‹ç‰©</li>
<li>å°†å±æ€§å’Œè¡Œä¸ºåŠ ä»¥æƒé™æ§åˆ¶</li>
</ul>
<p><strong>å°è£…æ„ä¹‰ä¸€ï¼š</strong></p>
<p>â€‹	åœ¨è®¾è®¡ç±»çš„æ—¶å€™ï¼Œå±æ€§å’Œè¡Œä¸ºå†™åœ¨ä¸€èµ·ï¼Œè¡¨ç°äº‹ç‰©</p>
<p><strong>è¯­æ³•ï¼š</strong> <code>class ç±»å{ è®¿é—®æƒé™ï¼š å±æ€§ / è¡Œä¸º };</code></p>
<p>**ç¤ºä¾‹1ï¼š**è®¾è®¡ä¸€ä¸ªåœ†ç±»ï¼Œæ±‚åœ†çš„å‘¨é•¿</p>
<p><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p>
<pre><code class="language-C++">//åœ†å‘¨ç‡
const double PI = 3.14;

//1ã€å°è£…çš„æ„ä¹‰
//å°†å±æ€§å’Œè¡Œä¸ºä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œç”¨æ¥è¡¨ç°ç”Ÿæ´»ä¸­çš„äº‹ç‰©

//å°è£…ä¸€ä¸ªåœ†ç±»ï¼Œæ±‚åœ†çš„å‘¨é•¿
//classä»£è¡¨è®¾è®¡ä¸€ä¸ªç±»ï¼Œåé¢è·Ÿç€çš„æ˜¯ç±»å
class Circle
{
public:  //è®¿é—®æƒé™  å…¬å…±çš„æƒé™

	//å±æ€§
	int m_r;//åŠå¾„

	//è¡Œä¸º
	//è·å–åˆ°åœ†çš„å‘¨é•¿
	double calculateZC()
	{
		//2 * pi  * r
		//è·å–åœ†çš„å‘¨é•¿
		return  2 * PI * m_r;
	}
};

int main() {

	//é€šè¿‡åœ†ç±»ï¼Œåˆ›å»ºåœ†çš„å¯¹è±¡
	// c1å°±æ˜¯ä¸€ä¸ªå…·ä½“çš„åœ†
	Circle c1;
	c1.m_r = 10; //ç»™åœ†å¯¹è±¡çš„åŠå¾„ è¿›è¡Œèµ‹å€¼æ“ä½œ

	//2 * pi * 10 = = 62.8
	cout &lt;&lt; &quot;åœ†çš„å‘¨é•¿ä¸ºï¼š &quot; &lt;&lt; c1.calculateZC() &lt;&lt; endl;

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p>**ç¤ºä¾‹2ï¼š**è®¾è®¡ä¸€ä¸ªå­¦ç”Ÿç±»ï¼Œå±æ€§æœ‰å§“åå’Œå­¦å·ï¼Œå¯ä»¥ç»™å§“åå’Œå­¦å·èµ‹å€¼ï¼Œå¯ä»¥æ˜¾ç¤ºå­¦ç”Ÿçš„å§“åå’Œå­¦å·</p>
<p><strong>ç¤ºä¾‹2ä»£ç ï¼š</strong></p>
<pre><code class="language-C++">//å­¦ç”Ÿç±»
class Student {
public:
	void setName(string name) {
		m_name = name;
	}
	void setID(int id) {
		m_id = id;
	}

	void showStudent() {
		cout &lt;&lt; &quot;name:&quot; &lt;&lt; m_name &lt;&lt; &quot; ID:&quot; &lt;&lt; m_id &lt;&lt; endl;
	}
public:
	string m_name;
	int m_id;
};

int main() {

	Student stu;
	stu.setName(&quot;å¾·ç›è¥¿äºš&quot;);
	stu.setID(250);
	stu.showStudent();

	system(&quot;pause&quot;);

	return 0;
}

</code></pre>
<p><strong>å°è£…æ„ä¹‰äºŒï¼š</strong></p>
<p>ç±»åœ¨è®¾è®¡æ—¶ï¼Œå¯ä»¥æŠŠå±æ€§å’Œè¡Œä¸ºæ”¾åœ¨ä¸åŒçš„æƒé™ä¸‹ï¼ŒåŠ ä»¥æ§åˆ¶</p>
<p>è®¿é—®æƒé™æœ‰ä¸‰ç§ï¼š</p>
<ol>
<li>public        å…¬å…±æƒé™</li>
<li>protected ä¿æŠ¤æƒé™</li>
<li>private      ç§æœ‰æƒé™</li>
</ol>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">//ä¸‰ç§æƒé™
//å…¬å…±æƒé™  public     ç±»å†…å¯ä»¥è®¿é—®  ç±»å¤–å¯ä»¥è®¿é—®
//ä¿æŠ¤æƒé™  protected  ç±»å†…å¯ä»¥è®¿é—®  ç±»å¤–ä¸å¯ä»¥è®¿é—®
//ç§æœ‰æƒé™  private    ç±»å†…å¯ä»¥è®¿é—®  ç±»å¤–ä¸å¯ä»¥è®¿é—®

class Person
{
	//å§“å  å…¬å…±æƒé™
public:
	string m_Name;

	//æ±½è½¦  ä¿æŠ¤æƒé™
protected:
	string m_Car;

	//é“¶è¡Œå¡å¯†ç   ç§æœ‰æƒé™
private:
	int m_Password;

public:
	void func()
	{
		m_Name = &quot;å¼ ä¸‰&quot;;
		m_Car = &quot;æ‹–æ‹‰æœº&quot;;
		m_Password = 123456;
	}
};

int main() {

	Person p;
	p.m_Name = &quot;æå››&quot;;
	//p.m_Car = &quot;å¥”é©°&quot;;  //ä¿æŠ¤æƒé™ç±»å¤–è®¿é—®ä¸åˆ°
	//p.m_Password = 123; //ç§æœ‰æƒé™ç±»å¤–è®¿é—®ä¸åˆ°

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="412-structå’ŒclassåŒºåˆ«">4.1.2 structå’ŒclassåŒºåˆ«</h4>
<p>åœ¨C++ä¸­ structå’Œclasså”¯ä¸€çš„<strong>åŒºåˆ«</strong>å°±åœ¨äº <strong>é»˜è®¤çš„è®¿é—®æƒé™ä¸åŒ</strong></p>
<p>åŒºåˆ«ï¼š</p>
<ul>
<li>struct é»˜è®¤æƒé™ä¸ºå…¬å…±</li>
<li>class   é»˜è®¤æƒé™ä¸ºç§æœ‰</li>
</ul>
<pre><code class="language-C++">class C1
{
	int  m_A; //é»˜è®¤æ˜¯ç§æœ‰æƒé™
};

struct C2
{
	int m_A;  //é»˜è®¤æ˜¯å…¬å…±æƒé™
};

int main() {

	C1 c1;
	c1.m_A = 10; //é”™è¯¯ï¼Œè®¿é—®æƒé™æ˜¯ç§æœ‰

	C2 c2;
	c2.m_A = 10; //æ­£ç¡®ï¼Œè®¿é—®æƒé™æ˜¯å…¬å…±

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="413-æˆå‘˜å±æ€§è®¾ç½®ä¸ºç§æœ‰">4.1.3 æˆå‘˜å±æ€§è®¾ç½®ä¸ºç§æœ‰</h4>
<p>**ä¼˜ç‚¹1ï¼š**å°†æ‰€æœ‰æˆå‘˜å±æ€§è®¾ç½®ä¸ºç§æœ‰ï¼Œå¯ä»¥è‡ªå·±æ§åˆ¶è¯»å†™æƒé™</p>
<p>**ä¼˜ç‚¹2ï¼š**å¯¹äºå†™æƒé™ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æµ‹æ•°æ®çš„æœ‰æ•ˆæ€§</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Person {
public:

	//å§“åè®¾ç½®å¯è¯»å¯å†™
	void setName(string name) {
		m_Name = name;
	}
	string getName()
	{
		return m_Name;
	}


	//è·å–å¹´é¾„ 
	int getAge() {
		return m_Age;
	}
	//è®¾ç½®å¹´é¾„
	void setAge(int age) {
		if (age &lt; 0 || age &gt; 150) {
			cout &lt;&lt; &quot;ä½ ä¸ªè€å¦–ç²¾!&quot; &lt;&lt; endl;
			return;
		}
		m_Age = age;
	}

	//æƒ…äººè®¾ç½®ä¸ºåªå†™
	void setLover(string lover) {
		m_Lover = lover;
	}

private:
	string m_Name; //å¯è¯»å¯å†™  å§“å
	
	int m_Age; //åªè¯»  å¹´é¾„

	string m_Lover; //åªå†™  æƒ…äºº
};


int main() {

	Person p;
	//å§“åè®¾ç½®
	p.setName(&quot;å¼ ä¸‰&quot;);
	cout &lt;&lt; &quot;å§“åï¼š &quot; &lt;&lt; p.getName() &lt;&lt; endl;

	//å¹´é¾„è®¾ç½®
	p.setAge(50);
	cout &lt;&lt; &quot;å¹´é¾„ï¼š &quot; &lt;&lt; p.getAge() &lt;&lt; endl;

	//æƒ…äººè®¾ç½®
	p.setLover(&quot;è‹äº•&quot;);
	//cout &lt;&lt; &quot;æƒ…äººï¼š &quot; &lt;&lt; p.m_Lover &lt;&lt; endl;  //åªå†™å±æ€§ï¼Œä¸å¯ä»¥è¯»å–

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p><strong>ç»ƒä¹ æ¡ˆä¾‹1ï¼šè®¾è®¡ç«‹æ–¹ä½“ç±»</strong></p>
<p>è®¾è®¡ç«‹æ–¹ä½“ç±»(Cube)</p>
<p>æ±‚å‡ºç«‹æ–¹ä½“çš„é¢ç§¯å’Œä½“ç§¯</p>
<p>åˆ†åˆ«ç”¨å…¨å±€å‡½æ•°å’Œæˆå‘˜å‡½æ•°åˆ¤æ–­ä¸¤ä¸ªç«‹æ–¹ä½“æ˜¯å¦ç›¸ç­‰ã€‚</p>
<figure data-type="image" tabindex="1"><img src="assets/1545533548532.png" alt="1545533548532" loading="lazy"></figure>
<p><strong>ç»ƒä¹ æ¡ˆä¾‹2ï¼šç‚¹å’Œåœ†çš„å…³ç³»</strong></p>
<p>è®¾è®¡ä¸€ä¸ªåœ†å½¢ç±»ï¼ˆCircleï¼‰ï¼Œå’Œä¸€ä¸ªç‚¹ç±»ï¼ˆPointï¼‰ï¼Œè®¡ç®—ç‚¹å’Œåœ†çš„å…³ç³»ã€‚</p>
<figure data-type="image" tabindex="2"><img src="assets/1545533829184.png" alt="1545533829184" loading="lazy"></figure>
<h3 id="42-å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†">4.2 å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†</h3>
<ul>
<li>ç”Ÿæ´»ä¸­æˆ‘ä»¬ä¹°çš„ç”µå­äº§å“éƒ½åŸºæœ¬ä¼šæœ‰å‡ºå‚è®¾ç½®ï¼Œåœ¨æŸä¸€å¤©æˆ‘ä»¬ä¸ç”¨æ—¶å€™ä¹Ÿä¼šåˆ é™¤ä¸€äº›è‡ªå·±ä¿¡æ¯æ•°æ®ä¿è¯å®‰å…¨</li>
<li>C++ä¸­çš„é¢å‘å¯¹è±¡æ¥æºäºç”Ÿæ´»ï¼Œæ¯ä¸ªå¯¹è±¡ä¹Ÿéƒ½ä¼šæœ‰åˆå§‹è®¾ç½®ä»¥åŠ å¯¹è±¡é”€æ¯å‰çš„æ¸…ç†æ•°æ®çš„è®¾ç½®ã€‚</li>
</ul>
<h4 id="421-æ„é€ å‡½æ•°å’Œææ„å‡½æ•°">4.2.1 æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</h4>
<p>å¯¹è±¡çš„<strong>åˆå§‹åŒ–å’Œæ¸…ç†</strong>ä¹Ÿæ˜¯ä¸¤ä¸ªéå¸¸é‡è¦çš„å®‰å…¨é—®é¢˜</p>
<p>â€‹	ä¸€ä¸ªå¯¹è±¡æˆ–è€…å˜é‡æ²¡æœ‰åˆå§‹çŠ¶æ€ï¼Œå¯¹å…¶ä½¿ç”¨åæœæ˜¯æœªçŸ¥</p>
<p>â€‹	åŒæ ·çš„ä½¿ç”¨å®Œä¸€ä¸ªå¯¹è±¡æˆ–å˜é‡ï¼Œæ²¡æœ‰åŠæ—¶æ¸…ç†ï¼Œä¹Ÿä¼šé€ æˆä¸€å®šçš„å®‰å…¨é—®é¢˜</p>
<p>c++åˆ©ç”¨äº†<strong>æ„é€ å‡½æ•°</strong>å’Œ<strong>ææ„å‡½æ•°</strong>è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°å°†ä¼šè¢«ç¼–è¯‘å™¨è‡ªåŠ¨è°ƒç”¨ï¼Œå®Œæˆå¯¹è±¡åˆå§‹åŒ–å’Œæ¸…ç†å·¥ä½œã€‚</p>
<p>å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†å·¥ä½œæ˜¯ç¼–è¯‘å™¨å¼ºåˆ¶è¦æˆ‘ä»¬åšçš„äº‹æƒ…ï¼Œå› æ­¤å¦‚æœ<strong>æˆ‘ä»¬ä¸æä¾›æ„é€ å’Œææ„ï¼Œç¼–è¯‘å™¨ä¼šæä¾›</strong></p>
<p><strong>ç¼–è¯‘å™¨æä¾›çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°æ˜¯ç©ºå®ç°ã€‚</strong></p>
<ul>
<li>æ„é€ å‡½æ•°ï¼šä¸»è¦ä½œç”¨åœ¨äºåˆ›å»ºå¯¹è±¡æ—¶ä¸ºå¯¹è±¡çš„æˆå‘˜å±æ€§èµ‹å€¼ï¼Œæ„é€ å‡½æ•°ç”±ç¼–è¯‘å™¨è‡ªåŠ¨è°ƒç”¨ï¼Œæ— é¡»æ‰‹åŠ¨è°ƒç”¨ã€‚</li>
<li>ææ„å‡½æ•°ï¼šä¸»è¦ä½œç”¨åœ¨äºå¯¹è±¡<strong>é”€æ¯å‰</strong>ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ï¼Œæ‰§è¡Œä¸€äº›æ¸…ç†å·¥ä½œã€‚</li>
</ul>
<p><strong>æ„é€ å‡½æ•°è¯­æ³•ï¼š</strong><code>ç±»å(){}</code></p>
<ol>
<li>æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼ä¹Ÿä¸å†™void</li>
<li>å‡½æ•°åç§°ä¸ç±»åç›¸åŒ</li>
<li>æ„é€ å‡½æ•°å¯ä»¥æœ‰å‚æ•°ï¼Œå› æ­¤å¯ä»¥å‘ç”Ÿé‡è½½</li>
<li>ç¨‹åºåœ¨è°ƒç”¨å¯¹è±¡æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨æ„é€ ï¼Œæ— é¡»æ‰‹åŠ¨è°ƒç”¨,è€Œä¸”åªä¼šè°ƒç”¨ä¸€æ¬¡</li>
</ol>
<p><strong>ææ„å‡½æ•°è¯­æ³•ï¼š</strong> <code>~ç±»å(){}</code></p>
<ol>
<li>ææ„å‡½æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼ä¹Ÿä¸å†™void</li>
<li>å‡½æ•°åç§°ä¸ç±»åç›¸åŒ,åœ¨åç§°å‰åŠ ä¸Šç¬¦å·  ~</li>
<li>ææ„å‡½æ•°ä¸å¯ä»¥æœ‰å‚æ•°ï¼Œå› æ­¤ä¸å¯ä»¥å‘ç”Ÿé‡è½½</li>
<li>ç¨‹åºåœ¨å¯¹è±¡é”€æ¯å‰ä¼šè‡ªåŠ¨è°ƒç”¨ææ„ï¼Œæ— é¡»æ‰‹åŠ¨è°ƒç”¨,è€Œä¸”åªä¼šè°ƒç”¨ä¸€æ¬¡</li>
</ol>
<pre><code class="language-C++">class Person
{
public:
	//æ„é€ å‡½æ•°
	Person()
	{
		cout &lt;&lt; &quot;Personçš„æ„é€ å‡½æ•°è°ƒç”¨&quot; &lt;&lt; endl;
	}
	//ææ„å‡½æ•°
	~Person()
	{
		cout &lt;&lt; &quot;Personçš„ææ„å‡½æ•°è°ƒç”¨&quot; &lt;&lt; endl;
	}

};

void test01()
{
	Person p;
}

int main() {
	
	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="422-æ„é€ å‡½æ•°çš„åˆ†ç±»åŠè°ƒç”¨">4.2.2 æ„é€ å‡½æ•°çš„åˆ†ç±»åŠè°ƒç”¨</h4>
<p>ä¸¤ç§åˆ†ç±»æ–¹å¼ï¼š</p>
<p>â€‹	æŒ‰å‚æ•°åˆ†ä¸ºï¼š æœ‰å‚æ„é€ å’Œæ— å‚æ„é€ </p>
<p>â€‹	æŒ‰ç±»å‹åˆ†ä¸ºï¼š æ™®é€šæ„é€ å’Œæ‹·è´æ„é€ </p>
<p>ä¸‰ç§è°ƒç”¨æ–¹å¼ï¼š</p>
<p>â€‹	æ‹¬å·æ³•</p>
<p>â€‹	æ˜¾ç¤ºæ³•</p>
<p>â€‹	éšå¼è½¬æ¢æ³•</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">//1ã€æ„é€ å‡½æ•°åˆ†ç±»
// æŒ‰ç…§å‚æ•°åˆ†ç±»åˆ†ä¸º æœ‰å‚å’Œæ— å‚æ„é€    æ— å‚åˆç§°ä¸ºé»˜è®¤æ„é€ å‡½æ•°
// æŒ‰ç…§ç±»å‹åˆ†ç±»åˆ†ä¸º æ™®é€šæ„é€ å’Œæ‹·è´æ„é€ 

class Person {
public:
	//æ— å‚ï¼ˆé»˜è®¤ï¼‰æ„é€ å‡½æ•°
	Person() {
		cout &lt;&lt; &quot;æ— å‚æ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
	}
	//æœ‰å‚æ„é€ å‡½æ•°
	Person(int a) {
		age = a;
		cout &lt;&lt; &quot;æœ‰å‚æ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
	}
	//æ‹·è´æ„é€ å‡½æ•°
	Person(const Person&amp; p) {
		age = p.age;
		cout &lt;&lt; &quot;æ‹·è´æ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
	}
	//ææ„å‡½æ•°
	~Person() {
		cout &lt;&lt; &quot;ææ„å‡½æ•°!&quot; &lt;&lt; endl;
	}
public:
	int age;
};

//2ã€æ„é€ å‡½æ•°çš„è°ƒç”¨
//è°ƒç”¨æ— å‚æ„é€ å‡½æ•°
void test01() {
	Person p; //è°ƒç”¨æ— å‚æ„é€ å‡½æ•°
}

//è°ƒç”¨æœ‰å‚çš„æ„é€ å‡½æ•°
void test02() {

	//2.1  æ‹¬å·æ³•ï¼Œå¸¸ç”¨
	Person p1(10);
	//æ³¨æ„1ï¼šè°ƒç”¨æ— å‚æ„é€ å‡½æ•°ä¸èƒ½åŠ æ‹¬å·ï¼Œå¦‚æœåŠ äº†ç¼–è¯‘å™¨è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜
	//Person p2();

	//2.2 æ˜¾å¼æ³•
	Person p2 = Person(10); 
	Person p3 = Person(p2);
	//Person(10)å•ç‹¬å†™å°±æ˜¯åŒ¿åå¯¹è±¡  å½“å‰è¡Œç»“æŸä¹‹åï¼Œé©¬ä¸Šææ„

	//2.3 éšå¼è½¬æ¢æ³•
	Person p4 = 10; // Person p4 = Person(10); 
	Person p5 = p4; // Person p5 = Person(p4); 

	//æ³¨æ„2ï¼šä¸èƒ½åˆ©ç”¨ æ‹·è´æ„é€ å‡½æ•° åˆå§‹åŒ–åŒ¿åå¯¹è±¡ ç¼–è¯‘å™¨è®¤ä¸ºæ˜¯å¯¹è±¡å£°æ˜
	//Person p5(p4);
}

int main() {

	test01();
	//test02();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="423-æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº">4.2.3 æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº</h4>
<p>C++ä¸­æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœºé€šå¸¸æœ‰ä¸‰ç§æƒ…å†µ</p>
<ul>
<li>ä½¿ç”¨ä¸€ä¸ªå·²ç»åˆ›å»ºå®Œæ¯•çš„å¯¹è±¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡</li>
<li>å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°å‚æ•°ä¼ å€¼</li>
<li>ä»¥å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Person {
public:
	Person() {
		cout &lt;&lt; &quot;æ— å‚æ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
		mAge = 0;
	}
	Person(int age) {
		cout &lt;&lt; &quot;æœ‰å‚æ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
		mAge = age;
	}
	Person(const Person&amp; p) {
		cout &lt;&lt; &quot;æ‹·è´æ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
		mAge = p.mAge;
	}
	//ææ„å‡½æ•°åœ¨é‡Šæ”¾å†…å­˜ä¹‹å‰è°ƒç”¨
	~Person() {
		cout &lt;&lt; &quot;ææ„å‡½æ•°!&quot; &lt;&lt; endl;
	}
public:
	int mAge;
};

//1. ä½¿ç”¨ä¸€ä¸ªå·²ç»åˆ›å»ºå®Œæ¯•çš„å¯¹è±¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡
void test01() {

	Person man(100); //på¯¹è±¡å·²ç»åˆ›å»ºå®Œæ¯•
	Person newman(man); //è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°
	Person newman2 = man; //æ‹·è´æ„é€ 

	//Person newman3;
	//newman3 = man; //ä¸æ˜¯è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œèµ‹å€¼æ“ä½œ
}

//2. å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°å‚æ•°ä¼ å€¼
//ç›¸å½“äºPerson p1 = p;
void doWork(Person p1) {}
void test02() {
	Person p; //æ— å‚æ„é€ å‡½æ•°
	doWork(p);
}

//3. ä»¥å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡
Person doWork2()
{
	Person p1;
	cout &lt;&lt; (int *)&amp;p1 &lt;&lt; endl;
	return p1;
}

void test03()
{
	Person p = doWork2();
	cout &lt;&lt; (int *)&amp;p &lt;&lt; endl;
}


int main() {

	//test01();
	//test02();
	test03();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="424-æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™">4.2.4 æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™</h4>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œc++ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æ·»åŠ 3ä¸ªå‡½æ•°</p>
<p>1ï¼é»˜è®¤æ„é€ å‡½æ•°(æ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©º)</p>
<p>2ï¼é»˜è®¤ææ„å‡½æ•°(æ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©º)</p>
<p>3ï¼é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼Œå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´</p>
<p>æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>å¦‚æœç”¨æˆ·å®šä¹‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œc++ä¸åœ¨æä¾›é»˜è®¤æ— å‚æ„é€ ï¼Œä½†æ˜¯ä¼šæä¾›é»˜è®¤æ‹·è´æ„é€ </p>
</li>
<li>
<p>å¦‚æœç”¨æˆ·å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œc++ä¸ä¼šå†æä¾›å…¶ä»–æ„é€ å‡½æ•°</p>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-C++">class Person {
public:
	//æ— å‚ï¼ˆé»˜è®¤ï¼‰æ„é€ å‡½æ•°
	Person() {
		cout &lt;&lt; &quot;æ— å‚æ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
	}
	//æœ‰å‚æ„é€ å‡½æ•°
	Person(int a) {
		age = a;
		cout &lt;&lt; &quot;æœ‰å‚æ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
	}
	//æ‹·è´æ„é€ å‡½æ•°
	Person(const Person&amp; p) {
		age = p.age;
		cout &lt;&lt; &quot;æ‹·è´æ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
	}
	//ææ„å‡½æ•°
	~Person() {
		cout &lt;&lt; &quot;ææ„å‡½æ•°!&quot; &lt;&lt; endl;
	}
public:
	int age;
};

void test01()
{
	Person p1(18);
	//å¦‚æœä¸å†™æ‹·è´æ„é€ ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ·»åŠ æ‹·è´æ„é€ ï¼Œå¹¶ä¸”åšæµ…æ‹·è´æ“ä½œ
	Person p2(p1);

	cout &lt;&lt; &quot;p2çš„å¹´é¾„ä¸ºï¼š &quot; &lt;&lt; p2.age &lt;&lt; endl;
}

void test02()
{
	//å¦‚æœç”¨æˆ·æä¾›æœ‰å‚æ„é€ ï¼Œç¼–è¯‘å™¨ä¸ä¼šæä¾›é»˜è®¤æ„é€ ï¼Œä¼šæä¾›æ‹·è´æ„é€ 
	Person p1; //æ­¤æ—¶å¦‚æœç”¨æˆ·è‡ªå·±æ²¡æœ‰æä¾›é»˜è®¤æ„é€ ï¼Œä¼šå‡ºé”™
	Person p2(10); //ç”¨æˆ·æä¾›çš„æœ‰å‚
	Person p3(p2); //æ­¤æ—¶å¦‚æœç”¨æˆ·æ²¡æœ‰æä¾›æ‹·è´æ„é€ ï¼Œç¼–è¯‘å™¨ä¼šæä¾›

	//å¦‚æœç”¨æˆ·æä¾›æ‹·è´æ„é€ ï¼Œç¼–è¯‘å™¨ä¸ä¼šæä¾›å…¶ä»–æ„é€ å‡½æ•°
	Person p4; //æ­¤æ—¶å¦‚æœç”¨æˆ·è‡ªå·±æ²¡æœ‰æä¾›é»˜è®¤æ„é€ ï¼Œä¼šå‡ºé”™
	Person p5(10); //æ­¤æ—¶å¦‚æœç”¨æˆ·è‡ªå·±æ²¡æœ‰æä¾›æœ‰å‚ï¼Œä¼šå‡ºé”™
	Person p6(p5); //ç”¨æˆ·è‡ªå·±æä¾›æ‹·è´æ„é€ 
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="425-æ·±æ‹·è´ä¸æµ…æ‹·è´">4.2.5 æ·±æ‹·è´ä¸æµ…æ‹·è´</h4>
<p>æ·±æµ…æ‹·è´æ˜¯é¢è¯•ç»å…¸é—®é¢˜ï¼Œä¹Ÿæ˜¯å¸¸è§çš„ä¸€ä¸ªå‘</p>
<p>æµ…æ‹·è´ï¼šç®€å•çš„èµ‹å€¼æ‹·è´æ“ä½œ</p>
<p>æ·±æ‹·è´ï¼šåœ¨å †åŒºé‡æ–°ç”³è¯·ç©ºé—´ï¼Œè¿›è¡Œæ‹·è´æ“ä½œ</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Person {
public:
	//æ— å‚ï¼ˆé»˜è®¤ï¼‰æ„é€ å‡½æ•°
	Person() {
		cout &lt;&lt; &quot;æ— å‚æ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
	}
	//æœ‰å‚æ„é€ å‡½æ•°
	Person(int age ,int height) {
		
		cout &lt;&lt; &quot;æœ‰å‚æ„é€ å‡½æ•°!&quot; &lt;&lt; endl;

		m_age = age;
		m_height = new int(height);
		
	}
	//æ‹·è´æ„é€ å‡½æ•°  
	Person(const Person&amp; p) {
		cout &lt;&lt; &quot;æ‹·è´æ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
		//å¦‚æœä¸åˆ©ç”¨æ·±æ‹·è´åœ¨å †åŒºåˆ›å»ºæ–°å†…å­˜ï¼Œä¼šå¯¼è‡´æµ…æ‹·è´å¸¦æ¥çš„é‡å¤é‡Šæ”¾å †åŒºé—®é¢˜
		m_age = p.m_age;
		m_height = new int(*p.m_height);
		
	}

	//ææ„å‡½æ•°
	~Person() {
		cout &lt;&lt; &quot;ææ„å‡½æ•°!&quot; &lt;&lt; endl;
		if (m_height != NULL)
		{
			delete m_height;
		}
	}
public:
	int m_age;
	int* m_height;
};

void test01()
{
	Person p1(18, 180);

	Person p2(p1);

	cout &lt;&lt; &quot;p1çš„å¹´é¾„ï¼š &quot; &lt;&lt; p1.m_age &lt;&lt; &quot; èº«é«˜ï¼š &quot; &lt;&lt; *p1.m_height &lt;&lt; endl;

	cout &lt;&lt; &quot;p2çš„å¹´é¾„ï¼š &quot; &lt;&lt; p2.m_age &lt;&lt; &quot; èº«é«˜ï¼š &quot; &lt;&lt; *p2.m_height &lt;&lt; endl;
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<blockquote>
<p>æ€»ç»“ï¼šå¦‚æœå±æ€§æœ‰åœ¨å †åŒºå¼€è¾Ÿçš„ï¼Œä¸€å®šè¦è‡ªå·±æä¾›æ‹·è´æ„é€ å‡½æ•°ï¼Œé˜²æ­¢æµ…æ‹·è´å¸¦æ¥çš„é—®é¢˜</p>
</blockquote>
<h4 id="426-åˆå§‹åŒ–åˆ—è¡¨">4.2.6 åˆå§‹åŒ–åˆ—è¡¨</h4>
<p><strong>ä½œç”¨ï¼š</strong></p>
<p>C++æä¾›äº†åˆå§‹åŒ–åˆ—è¡¨è¯­æ³•ï¼Œç”¨æ¥åˆå§‹åŒ–å±æ€§</p>
<p><strong>è¯­æ³•ï¼š</strong><code>æ„é€ å‡½æ•°()ï¼šå±æ€§1(å€¼1),å±æ€§2ï¼ˆå€¼2ï¼‰... {}</code></p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Person {
public:

	////ä¼ ç»Ÿæ–¹å¼åˆå§‹åŒ–
	//Person(int a, int b, int c) {
	//	m_A = a;
	//	m_B = b;
	//	m_C = c;
	//}

	//åˆå§‹åŒ–åˆ—è¡¨æ–¹å¼åˆå§‹åŒ–
	Person(int a, int b, int c) :m_A(a), m_B(b), m_C(c) {}
	void PrintPerson() {
		cout &lt;&lt; &quot;mA:&quot; &lt;&lt; m_A &lt;&lt; endl;
		cout &lt;&lt; &quot;mB:&quot; &lt;&lt; m_B &lt;&lt; endl;
		cout &lt;&lt; &quot;mC:&quot; &lt;&lt; m_C &lt;&lt; endl;
	}
private:
	int m_A;
	int m_B;
	int m_C;
};

int main() {

	Person p(1, 2, 3);
	p.PrintPerson();


	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="427-ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜">4.2.7 ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜</h4>
<p>C++ç±»ä¸­çš„æˆå‘˜å¯ä»¥æ˜¯å¦ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œæˆ‘ä»¬ç§°è¯¥æˆå‘˜ä¸º å¯¹è±¡æˆå‘˜</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-C++">class A {}
class B
{
    A aï¼›
}
</code></pre>
<p>Bç±»ä¸­æœ‰å¯¹è±¡Aä½œä¸ºæˆå‘˜ï¼ŒAä¸ºå¯¹è±¡æˆå‘˜</p>
<p>é‚£ä¹ˆå½“åˆ›å»ºBå¯¹è±¡æ—¶ï¼ŒAä¸Bçš„æ„é€ å’Œææ„çš„é¡ºåºæ˜¯è°å…ˆè°åï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Phone
{
public:
	Phone(string name)
	{
		m_PhoneName = name;
		cout &lt;&lt; &quot;Phoneæ„é€ &quot; &lt;&lt; endl;
	}

	~Phone()
	{
		cout &lt;&lt; &quot;Phoneææ„&quot; &lt;&lt; endl;
	}

	string m_PhoneName;

};


class Person
{
public:

	//åˆå§‹åŒ–åˆ—è¡¨å¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨è°ƒç”¨å“ªä¸€ä¸ªæ„é€ å‡½æ•°
	Person(string name, string pName) :m_Name(name), m_Phone(pName)
	{
		cout &lt;&lt; &quot;Personæ„é€ &quot; &lt;&lt; endl;
	}

	~Person()
	{
		cout &lt;&lt; &quot;Personææ„&quot; &lt;&lt; endl;
	}

	void playGame()
	{
		cout &lt;&lt; m_Name &lt;&lt; &quot; ä½¿ç”¨&quot; &lt;&lt; m_Phone.m_PhoneName &lt;&lt; &quot; ç‰Œæ‰‹æœº! &quot; &lt;&lt; endl;
	}

	string m_Name;
	Phone m_Phone;

};
void test01()
{
	//å½“ç±»ä¸­æˆå‘˜æ˜¯å…¶ä»–ç±»å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬ç§°è¯¥æˆå‘˜ä¸º å¯¹è±¡æˆå‘˜
	//æ„é€ çš„é¡ºåºæ˜¯ ï¼šå…ˆè°ƒç”¨å¯¹è±¡æˆå‘˜çš„æ„é€ ï¼Œå†è°ƒç”¨æœ¬ç±»æ„é€ 
	//ææ„é¡ºåºä¸æ„é€ ç›¸å
	Person p(&quot;å¼ ä¸‰&quot; , &quot;è‹¹æœX&quot;);
	p.playGame();

}


int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="428-é™æ€æˆå‘˜">4.2.8 é™æ€æˆå‘˜</h4>
<p>é™æ€æˆå‘˜å°±æ˜¯åœ¨æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°å‰åŠ ä¸Šå…³é”®å­—staticï¼Œç§°ä¸ºé™æ€æˆå‘˜</p>
<p>é™æ€æˆå‘˜åˆ†ä¸ºï¼š</p>
<ul>
<li>é™æ€æˆå‘˜å˜é‡
<ul>
<li>æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä»½æ•°æ®</li>
<li>åœ¨ç¼–è¯‘é˜¶æ®µåˆ†é…å†…å­˜</li>
<li>ç±»å†…å£°æ˜ï¼Œç±»å¤–åˆå§‹åŒ–</li>
</ul>
</li>
<li>é™æ€æˆå‘˜å‡½æ•°
<ul>
<li>æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä¸ªå‡½æ•°</li>
<li>é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡</li>
</ul>
</li>
</ul>
<p>**ç¤ºä¾‹1 ï¼š**é™æ€æˆå‘˜å˜é‡</p>
<pre><code class="language-C++">class Person
{
	
public:

	static int m_A; //é™æ€æˆå‘˜å˜é‡

	//é™æ€æˆå‘˜å˜é‡ç‰¹ç‚¹ï¼š
	//1 åœ¨ç¼–è¯‘é˜¶æ®µåˆ†é…å†…å­˜
	//2 ç±»å†…å£°æ˜ï¼Œç±»å¤–åˆå§‹åŒ–
	//3 æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä»½æ•°æ®

private:
	static int m_B; //é™æ€æˆå‘˜å˜é‡ä¹Ÿæ˜¯æœ‰è®¿é—®æƒé™çš„
};
int Person::m_A = 10;
int Person::m_B = 10;

void test01()
{
	//é™æ€æˆå‘˜å˜é‡ä¸¤ç§è®¿é—®æ–¹å¼

	//1ã€é€šè¿‡å¯¹è±¡
	Person p1;
	p1.m_A = 100;
	cout &lt;&lt; &quot;p1.m_A = &quot; &lt;&lt; p1.m_A &lt;&lt; endl;

	Person p2;
	p2.m_A = 200;
	cout &lt;&lt; &quot;p1.m_A = &quot; &lt;&lt; p1.m_A &lt;&lt; endl; //å…±äº«åŒä¸€ä»½æ•°æ®
	cout &lt;&lt; &quot;p2.m_A = &quot; &lt;&lt; p2.m_A &lt;&lt; endl;

	//2ã€é€šè¿‡ç±»å
	cout &lt;&lt; &quot;m_A = &quot; &lt;&lt; Person::m_A &lt;&lt; endl;


	//cout &lt;&lt; &quot;m_B = &quot; &lt;&lt; Person::m_B &lt;&lt; endl; //ç§æœ‰æƒé™è®¿é—®ä¸åˆ°
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p>**ç¤ºä¾‹2ï¼š**é™æ€æˆå‘˜å‡½æ•°</p>
<pre><code class="language-C++">class Person
{

public:

	//é™æ€æˆå‘˜å‡½æ•°ç‰¹ç‚¹ï¼š
	//1 ç¨‹åºå…±äº«ä¸€ä¸ªå‡½æ•°
	//2 é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡
	
	static void func()
	{
		cout &lt;&lt; &quot;funcè°ƒç”¨&quot; &lt;&lt; endl;
		m_A = 100;
		//m_B = 100; //é”™è¯¯ï¼Œä¸å¯ä»¥è®¿é—®éé™æ€æˆå‘˜å˜é‡
	}

	static int m_A; //é™æ€æˆå‘˜å˜é‡
	int m_B; // 
private:

	//é™æ€æˆå‘˜å‡½æ•°ä¹Ÿæ˜¯æœ‰è®¿é—®æƒé™çš„
	static void func2()
	{
		cout &lt;&lt; &quot;func2è°ƒç”¨&quot; &lt;&lt; endl;
	}
};
int Person::m_A = 10;


void test01()
{
	//é™æ€æˆå‘˜å˜é‡ä¸¤ç§è®¿é—®æ–¹å¼

	//1ã€é€šè¿‡å¯¹è±¡
	Person p1;
	p1.func();

	//2ã€é€šè¿‡ç±»å
	Person::func();


	//Person::func2(); //ç§æœ‰æƒé™è®¿é—®ä¸åˆ°
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h3 id="43-cå¯¹è±¡æ¨¡å‹å’ŒthisæŒ‡é’ˆ">4.3 C++å¯¹è±¡æ¨¡å‹å’ŒthisæŒ‡é’ˆ</h3>
<h4 id="431-æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°åˆ†å¼€å­˜å‚¨">4.3.1 æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°åˆ†å¼€å­˜å‚¨</h4>
<p>åœ¨C++ä¸­ï¼Œç±»å†…çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°åˆ†å¼€å­˜å‚¨</p>
<p>åªæœ‰éé™æ€æˆå‘˜å˜é‡æ‰å±äºç±»çš„å¯¹è±¡ä¸Š</p>
<pre><code class="language-C++">class Person {
public:
	Person() {
		mA = 0;
	}
	//éé™æ€æˆå‘˜å˜é‡å å¯¹è±¡ç©ºé—´
	int mA;
	//é™æ€æˆå‘˜å˜é‡ä¸å å¯¹è±¡ç©ºé—´
	static int mB; 
	//å‡½æ•°ä¹Ÿä¸å å¯¹è±¡ç©ºé—´ï¼Œæ‰€æœ‰å‡½æ•°å…±äº«ä¸€ä¸ªå‡½æ•°å®ä¾‹
	void func() {
		cout &lt;&lt; &quot;mA:&quot; &lt;&lt; this-&gt;mA &lt;&lt; endl;
	}
	//é™æ€æˆå‘˜å‡½æ•°ä¹Ÿä¸å å¯¹è±¡ç©ºé—´
	static void sfunc() {
	}
};

int main() {

	cout &lt;&lt; sizeof(Person) &lt;&lt; endl;

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="432-thisæŒ‡é’ˆæ¦‚å¿µ">4.3.2 thisæŒ‡é’ˆæ¦‚å¿µ</h4>
<p>é€šè¿‡4.3.1æˆ‘ä»¬çŸ¥é“åœ¨C++ä¸­æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°æ˜¯åˆ†å¼€å­˜å‚¨çš„</p>
<p>æ¯ä¸€ä¸ªéé™æ€æˆå‘˜å‡½æ•°åªä¼šè¯ç”Ÿä¸€ä»½å‡½æ•°å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´å¤šä¸ªåŒç±»å‹çš„å¯¹è±¡ä¼šå…±ç”¨ä¸€å—ä»£ç </p>
<p>é‚£ä¹ˆé—®é¢˜æ˜¯ï¼šè¿™ä¸€å—ä»£ç æ˜¯å¦‚ä½•åŒºåˆ†é‚£ä¸ªå¯¹è±¡è°ƒç”¨è‡ªå·±çš„å‘¢ï¼Ÿ</p>
<p>c++é€šè¿‡æä¾›ç‰¹æ®Šçš„å¯¹è±¡æŒ‡é’ˆï¼ŒthisæŒ‡é’ˆï¼Œè§£å†³ä¸Šè¿°é—®é¢˜ã€‚<strong>thisæŒ‡é’ˆæŒ‡å‘è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡</strong></p>
<p>thisæŒ‡é’ˆæ˜¯éšå«æ¯ä¸€ä¸ªéé™æ€æˆå‘˜å‡½æ•°å†…çš„ä¸€ç§æŒ‡é’ˆ</p>
<p>thisæŒ‡é’ˆä¸éœ€è¦å®šä¹‰ï¼Œç›´æ¥ä½¿ç”¨å³å¯</p>
<p>thisæŒ‡é’ˆçš„ç”¨é€”ï¼š</p>
<ul>
<li>å½“å½¢å‚å’Œæˆå‘˜å˜é‡åŒåæ—¶ï¼Œå¯ç”¨thisæŒ‡é’ˆæ¥åŒºåˆ†</li>
<li>åœ¨ç±»çš„éé™æ€æˆå‘˜å‡½æ•°ä¸­è¿”å›å¯¹è±¡æœ¬èº«ï¼Œå¯ä½¿ç”¨return *this</li>
</ul>
<pre><code class="language-C++">class Person
{
public:

	Person(int age)
	{
		//1ã€å½“å½¢å‚å’Œæˆå‘˜å˜é‡åŒåæ—¶ï¼Œå¯ç”¨thisæŒ‡é’ˆæ¥åŒºåˆ†
		this-&gt;age = age;
	}

	Person&amp; PersonAddPerson(Person p)
	{
		this-&gt;age += p.age;
		//è¿”å›å¯¹è±¡æœ¬èº«
		return *this;
	}

	int age;
};

void test01()
{
	Person p1(10);
	cout &lt;&lt; &quot;p1.age = &quot; &lt;&lt; p1.age &lt;&lt; endl;

	Person p2(10);
	p2.PersonAddPerson(p1).PersonAddPerson(p1).PersonAddPerson(p1);
	cout &lt;&lt; &quot;p2.age = &quot; &lt;&lt; p2.age &lt;&lt; endl;
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="433-ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°">4.3.3 ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°</h4>
<p>C++ä¸­ç©ºæŒ‡é’ˆä¹Ÿæ˜¯å¯ä»¥è°ƒç”¨æˆå‘˜å‡½æ•°çš„ï¼Œä½†æ˜¯ä¹Ÿè¦æ³¨æ„æœ‰æ²¡æœ‰ç”¨åˆ°thisæŒ‡é’ˆ</p>
<p>å¦‚æœç”¨åˆ°thisæŒ‡é’ˆï¼Œéœ€è¦åŠ ä»¥åˆ¤æ–­ä¿è¯ä»£ç çš„å¥å£®æ€§</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">//ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°
class Person {
public:

	void ShowClassName() {
		cout &lt;&lt; &quot;æˆ‘æ˜¯Personç±»!&quot; &lt;&lt; endl;
	}

	void ShowPerson() {
		if (this == NULL) {
			return;
		}
		cout &lt;&lt; mAge &lt;&lt; endl;
	}

public:
	int mAge;
};

void test01()
{
	Person * p = NULL;
	p-&gt;ShowClassName(); //ç©ºæŒ‡é’ˆï¼Œå¯ä»¥è°ƒç”¨æˆå‘˜å‡½æ•°
	p-&gt;ShowPerson();  //ä½†æ˜¯å¦‚æœæˆå‘˜å‡½æ•°ä¸­ç”¨åˆ°äº†thisæŒ‡é’ˆï¼Œå°±ä¸å¯ä»¥äº†
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="434-constä¿®é¥°æˆå‘˜å‡½æ•°">4.3.4 constä¿®é¥°æˆå‘˜å‡½æ•°</h4>
<p><strong>å¸¸å‡½æ•°ï¼š</strong></p>
<ul>
<li>æˆå‘˜å‡½æ•°ååŠ conståæˆ‘ä»¬ç§°ä¸ºè¿™ä¸ªå‡½æ•°ä¸º<strong>å¸¸å‡½æ•°</strong></li>
<li>å¸¸å‡½æ•°å†…ä¸å¯ä»¥ä¿®æ”¹æˆå‘˜å±æ€§</li>
<li>æˆå‘˜å±æ€§å£°æ˜æ—¶åŠ å…³é”®å­—mutableåï¼Œåœ¨å¸¸å‡½æ•°ä¸­ä¾ç„¶å¯ä»¥ä¿®æ”¹</li>
</ul>
<p><strong>å¸¸å¯¹è±¡ï¼š</strong></p>
<ul>
<li>å£°æ˜å¯¹è±¡å‰åŠ constç§°è¯¥å¯¹è±¡ä¸ºå¸¸å¯¹è±¡</li>
<li>å¸¸å¯¹è±¡åªèƒ½è°ƒç”¨å¸¸å‡½æ•°</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Person {
public:
	Person() {
		m_A = 0;
		m_B = 0;
	}

	//thisæŒ‡é’ˆçš„æœ¬è´¨æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¸¸é‡ï¼ŒæŒ‡é’ˆçš„æŒ‡å‘ä¸å¯ä¿®æ”¹
	//å¦‚æœæƒ³è®©æŒ‡é’ˆæŒ‡å‘çš„å€¼ä¹Ÿä¸å¯ä»¥ä¿®æ”¹ï¼Œéœ€è¦å£°æ˜å¸¸å‡½æ•°
	void ShowPerson() const {
		//const Type* const pointer;
		//this = NULL; //ä¸èƒ½ä¿®æ”¹æŒ‡é’ˆçš„æŒ‡å‘ Person* const this;
		//this-&gt;mA = 100; //ä½†æ˜¯thisæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡çš„æ•°æ®æ˜¯å¯ä»¥ä¿®æ”¹çš„

		//constä¿®é¥°æˆå‘˜å‡½æ•°ï¼Œè¡¨ç¤ºæŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ç©ºé—´çš„æ•°æ®ä¸èƒ½ä¿®æ”¹ï¼Œé™¤äº†mutableä¿®é¥°çš„å˜é‡
		this-&gt;m_B = 100;
	}

	void MyFunc() const {
		//mA = 10000;
	}

public:
	int m_A;
	mutable int m_B; //å¯ä¿®æ”¹ å¯å˜çš„
};


//constä¿®é¥°å¯¹è±¡  å¸¸å¯¹è±¡
void test01() {

	const Person person; //å¸¸é‡å¯¹è±¡  
	cout &lt;&lt; person.m_A &lt;&lt; endl;
	//person.mA = 100; //å¸¸å¯¹è±¡ä¸èƒ½ä¿®æ”¹æˆå‘˜å˜é‡çš„å€¼,ä½†æ˜¯å¯ä»¥è®¿é—®
	person.m_B = 100; //ä½†æ˜¯å¸¸å¯¹è±¡å¯ä»¥ä¿®æ”¹mutableä¿®é¥°æˆå‘˜å˜é‡

	//å¸¸å¯¹è±¡è®¿é—®æˆå‘˜å‡½æ•°
	person.MyFunc(); //å¸¸å¯¹è±¡ä¸èƒ½è°ƒç”¨constçš„å‡½æ•°

}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h3 id="44-å‹å…ƒ">4.4 å‹å…ƒ</h3>
<p>ç”Ÿæ´»ä¸­ä½ çš„å®¶æœ‰å®¢å…(Public)ï¼Œæœ‰ä½ çš„å§å®¤(Private)</p>
<p>å®¢å…æ‰€æœ‰æ¥çš„å®¢äººéƒ½å¯ä»¥è¿›å»ï¼Œä½†æ˜¯ä½ çš„å§å®¤æ˜¯ç§æœ‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰ä½ èƒ½è¿›å»</p>
<p>ä½†æ˜¯å‘¢ï¼Œä½ ä¹Ÿå¯ä»¥å…è®¸ä½ çš„å¥½é—ºèœœå¥½åŸºå‹è¿›å»ã€‚</p>
<p>åœ¨ç¨‹åºé‡Œï¼Œæœ‰äº›ç§æœ‰å±æ€§ ä¹Ÿæƒ³è®©ç±»å¤–ç‰¹æ®Šçš„ä¸€äº›å‡½æ•°æˆ–è€…ç±»è¿›è¡Œè®¿é—®ï¼Œå°±éœ€è¦ç”¨åˆ°å‹å…ƒçš„æŠ€æœ¯</p>
<p>å‹å…ƒçš„ç›®çš„å°±æ˜¯è®©ä¸€ä¸ªå‡½æ•°æˆ–è€…ç±» è®¿é—®å¦ä¸€ä¸ªç±»ä¸­ç§æœ‰æˆå‘˜</p>
<p>å‹å…ƒçš„å…³é”®å­—ä¸º  <mark>friend</mark></p>
<p>å‹å…ƒçš„ä¸‰ç§å®ç°</p>
<ul>
<li>å…¨å±€å‡½æ•°åšå‹å…ƒ</li>
<li>ç±»åšå‹å…ƒ</li>
<li>æˆå‘˜å‡½æ•°åšå‹å…ƒ</li>
</ul>
<h4 id="441-å…¨å±€å‡½æ•°åšå‹å…ƒ">4.4.1 å…¨å±€å‡½æ•°åšå‹å…ƒ</h4>
<pre><code class="language-C++">class Building
{
	//å‘Šè¯‰ç¼–è¯‘å™¨ goodGayå…¨å±€å‡½æ•° æ˜¯ Buildingç±»çš„å¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®ç±»ä¸­çš„ç§æœ‰å†…å®¹
	friend void goodGay(Building * building);

public:

	Building()
	{
		this-&gt;m_SittingRoom = &quot;å®¢å…&quot;;
		this-&gt;m_BedRoom = &quot;å§å®¤&quot;;
	}


public:
	string m_SittingRoom; //å®¢å…

private:
	string m_BedRoom; //å§å®¤
};


void goodGay(Building * building)
{
	cout &lt;&lt; &quot;å¥½åŸºå‹æ­£åœ¨è®¿é—®ï¼š &quot; &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; endl;
	cout &lt;&lt; &quot;å¥½åŸºå‹æ­£åœ¨è®¿é—®ï¼š &quot; &lt;&lt; building-&gt;m_BedRoom &lt;&lt; endl;
}


void test01()
{
	Building b;
	goodGay(&amp;b);
}

int main(){

	test01();

	system(&quot;pause&quot;);
	return 0;
}
</code></pre>
<h4 id="442-ç±»åšå‹å…ƒ">4.4.2 ç±»åšå‹å…ƒ</h4>
<pre><code class="language-C++">class Building;
class goodGay
{
public:

	goodGay();
	void visit();

private:
	Building *building;
};


class Building
{
	//å‘Šè¯‰ç¼–è¯‘å™¨ goodGayç±»æ˜¯Buildingç±»çš„å¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®åˆ°Buildingç±»ä¸­ç§æœ‰å†…å®¹
	friend class goodGay;

public:
	Building();

public:
	string m_SittingRoom; //å®¢å…
private:
	string m_BedRoom;//å§å®¤
};

Building::Building()
{
	this-&gt;m_SittingRoom = &quot;å®¢å…&quot;;
	this-&gt;m_BedRoom = &quot;å§å®¤&quot;;
}

goodGay::goodGay()
{
	building = new Building;
}

void goodGay::visit()
{
	cout &lt;&lt; &quot;å¥½åŸºå‹æ­£åœ¨è®¿é—®&quot; &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; endl;
	cout &lt;&lt; &quot;å¥½åŸºå‹æ­£åœ¨è®¿é—®&quot; &lt;&lt; building-&gt;m_BedRoom &lt;&lt; endl;
}

void test01()
{
	goodGay gg;
	gg.visit();

}

int main(){

	test01();

	system(&quot;pause&quot;);
	return 0;
}
</code></pre>
<h4 id="443-æˆå‘˜å‡½æ•°åšå‹å…ƒ">4.4.3 æˆå‘˜å‡½æ•°åšå‹å…ƒ</h4>
<pre><code class="language-C++">class Building;
class goodGay
{
public:

	goodGay();
	void visit(); //åªè®©visitå‡½æ•°ä½œä¸ºBuildingçš„å¥½æœ‹å‹ï¼Œå¯ä»¥å‘è®¿é—®Buildingä¸­ç§æœ‰å†…å®¹
	void visit2(); 

private:
	Building *building;
};


class Building
{
	//å‘Šè¯‰ç¼–è¯‘å™¨  goodGayç±»ä¸­çš„visitæˆå‘˜å‡½æ•° æ˜¯Buildingå¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®ç§æœ‰å†…å®¹
	friend void goodGay::visit();

public:
	Building();

public:
	string m_SittingRoom; //å®¢å…
private:
	string m_BedRoom;//å§å®¤
};

Building::Building()
{
	this-&gt;m_SittingRoom = &quot;å®¢å…&quot;;
	this-&gt;m_BedRoom = &quot;å§å®¤&quot;;
}

goodGay::goodGay()
{
	building = new Building;
}

void goodGay::visit()
{
	cout &lt;&lt; &quot;å¥½åŸºå‹æ­£åœ¨è®¿é—®&quot; &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; endl;
	cout &lt;&lt; &quot;å¥½åŸºå‹æ­£åœ¨è®¿é—®&quot; &lt;&lt; building-&gt;m_BedRoom &lt;&lt; endl;
}

void goodGay::visit2()
{
	cout &lt;&lt; &quot;å¥½åŸºå‹æ­£åœ¨è®¿é—®&quot; &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; endl;
	//cout &lt;&lt; &quot;å¥½åŸºå‹æ­£åœ¨è®¿é—®&quot; &lt;&lt; building-&gt;m_BedRoom &lt;&lt; endl;
}

void test01()
{
	goodGay  gg;
	gg.visit();

}

int main(){
    
	test01();

	system(&quot;pause&quot;);
	return 0;
}
</code></pre>
<h3 id="45-è¿ç®—ç¬¦é‡è½½">4.5 è¿ç®—ç¬¦é‡è½½</h3>
<p>è¿ç®—ç¬¦é‡è½½æ¦‚å¿µï¼šå¯¹å·²æœ‰çš„è¿ç®—ç¬¦é‡æ–°è¿›è¡Œå®šä¹‰ï¼Œèµ‹äºˆå…¶å¦ä¸€ç§åŠŸèƒ½ï¼Œä»¥é€‚åº”ä¸åŒçš„æ•°æ®ç±»å‹</p>
<h4 id="451-åŠ å·è¿ç®—ç¬¦é‡è½½">4.5.1 åŠ å·è¿ç®—ç¬¦é‡è½½</h4>
<p>ä½œç”¨ï¼šå®ç°ä¸¤ä¸ªè‡ªå®šä¹‰æ•°æ®ç±»å‹ç›¸åŠ çš„è¿ç®—</p>
<pre><code class="language-C++">class Person {
public:
	Person() {};
	Person(int a, int b)
	{
		this-&gt;m_A = a;
		this-&gt;m_B = b;
	}
	//æˆå‘˜å‡½æ•°å®ç° + å·è¿ç®—ç¬¦é‡è½½
	Person operator+(const Person&amp; p) {
		Person temp;
		temp.m_A = this-&gt;m_A + p.m_A;
		temp.m_B = this-&gt;m_B + p.m_B;
		return temp;
	}


public:
	int m_A;
	int m_B;
};

//å…¨å±€å‡½æ•°å®ç° + å·è¿ç®—ç¬¦é‡è½½
//Person operator+(const Person&amp; p1, const Person&amp; p2) {
//	Person temp(0, 0);
//	temp.m_A = p1.m_A + p2.m_A;
//	temp.m_B = p1.m_B + p2.m_B;
//	return temp;
//}

//è¿ç®—ç¬¦é‡è½½ å¯ä»¥å‘ç”Ÿå‡½æ•°é‡è½½ 
Person operator+(const Person&amp; p2, int val)  
{
	Person temp;
	temp.m_A = p2.m_A + val;
	temp.m_B = p2.m_B + val;
	return temp;
}

void test() {

	Person p1(10, 10);
	Person p2(20, 20);

	//æˆå‘˜å‡½æ•°æ–¹å¼
	Person p3 = p2 + p1;  //ç›¸å½“äº p2.operaor+(p1)
	cout &lt;&lt; &quot;mA:&quot; &lt;&lt; p3.m_A &lt;&lt; &quot; mB:&quot; &lt;&lt; p3.m_B &lt;&lt; endl;


	Person p4 = p3 + 10; //ç›¸å½“äº operator+(p3,10)
	cout &lt;&lt; &quot;mA:&quot; &lt;&lt; p4.m_A &lt;&lt; &quot; mB:&quot; &lt;&lt; p4.m_B &lt;&lt; endl;

}

int main() {

	test();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<blockquote>
<p>æ€»ç»“1ï¼šå¯¹äºå†…ç½®çš„æ•°æ®ç±»å‹çš„è¡¨è¾¾å¼çš„çš„è¿ç®—ç¬¦æ˜¯ä¸å¯èƒ½æ”¹å˜çš„</p>
</blockquote>
<blockquote>
<p>æ€»ç»“2ï¼šä¸è¦æ»¥ç”¨è¿ç®—ç¬¦é‡è½½</p>
</blockquote>
<h4 id="452-å·¦ç§»è¿ç®—ç¬¦é‡è½½">4.5.2 å·¦ç§»è¿ç®—ç¬¦é‡è½½</h4>
<p>ä½œç”¨ï¼šå¯ä»¥è¾“å‡ºè‡ªå®šä¹‰æ•°æ®ç±»å‹</p>
<pre><code class="language-C++">class Person {
	friend ostream&amp; operator&lt;&lt;(ostream&amp; out, Person&amp; p);

public:

	Person(int a, int b)
	{
		this-&gt;m_A = a;
		this-&gt;m_B = b;
	}

	//æˆå‘˜å‡½æ•° å®ç°ä¸äº†  p &lt;&lt; cout ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ
	//void operator&lt;&lt;(Person&amp; p){
	//}

private:
	int m_A;
	int m_B;
};

//å…¨å±€å‡½æ•°å®ç°å·¦ç§»é‡è½½
//ostreamå¯¹è±¡åªèƒ½æœ‰ä¸€ä¸ª
ostream&amp; operator&lt;&lt;(ostream&amp; out, Person&amp; p) {
	out &lt;&lt; &quot;a:&quot; &lt;&lt; p.m_A &lt;&lt; &quot; b:&quot; &lt;&lt; p.m_B;
	return out;
}

void test() {

	Person p1(10, 20);

	cout &lt;&lt; p1 &lt;&lt; &quot;hello world&quot; &lt;&lt; endl; //é“¾å¼ç¼–ç¨‹
}

int main() {

	test();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<blockquote>
<p>æ€»ç»“ï¼šé‡è½½å·¦ç§»è¿ç®—ç¬¦é…åˆå‹å…ƒå¯ä»¥å®ç°è¾“å‡ºè‡ªå®šä¹‰æ•°æ®ç±»å‹</p>
</blockquote>
<h4 id="453-é€’å¢è¿ç®—ç¬¦é‡è½½">4.5.3 é€’å¢è¿ç®—ç¬¦é‡è½½</h4>
<p>ä½œç”¨ï¼š é€šè¿‡é‡è½½é€’å¢è¿ç®—ç¬¦ï¼Œå®ç°è‡ªå·±çš„æ•´å‹æ•°æ®</p>
<pre><code class="language-C++">class MyInteger {

	friend ostream&amp; operator&lt;&lt;(ostream&amp; out, MyInteger myint);

public:
	MyInteger() {
		m_Num = 0;
	}
	//å‰ç½®++
	MyInteger&amp; operator++() {
		//å…ˆ++
		m_Num++;
		//å†è¿”å›
		return *this;
	}

	//åç½®++
	MyInteger operator++(int) {
		//å…ˆè¿”å›
		MyInteger temp = *this; //è®°å½•å½“å‰æœ¬èº«çš„å€¼ï¼Œç„¶åè®©æœ¬èº«çš„å€¼åŠ 1ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯ä»¥å‰çš„å€¼ï¼Œè¾¾åˆ°å…ˆè¿”å›å++ï¼›
		m_Num++;
		return temp;
	}

private:
	int m_Num;
};


ostream&amp; operator&lt;&lt;(ostream&amp; out, MyInteger myint) {
	out &lt;&lt; myint.m_Num;
	return out;
}


//å‰ç½®++ å…ˆ++ å†è¿”å›
void test01() {
	MyInteger myInt;
	cout &lt;&lt; ++myInt &lt;&lt; endl;
	cout &lt;&lt; myInt &lt;&lt; endl;
}

//åç½®++ å…ˆè¿”å› å†++
void test02() {

	MyInteger myInt;
	cout &lt;&lt; myInt++ &lt;&lt; endl;
	cout &lt;&lt; myInt &lt;&lt; endl;
}

int main() {

	test01();
	//test02();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<blockquote>
<p>æ€»ç»“ï¼š å‰ç½®é€’å¢è¿”å›å¼•ç”¨ï¼Œåç½®é€’å¢è¿”å›å€¼</p>
</blockquote>
<h4 id="454-èµ‹å€¼è¿ç®—ç¬¦é‡è½½">4.5.4 èµ‹å€¼è¿ç®—ç¬¦é‡è½½</h4>
<p>c++ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æ·»åŠ 4ä¸ªå‡½æ•°</p>
<ol>
<li>é»˜è®¤æ„é€ å‡½æ•°(æ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©º)</li>
<li>é»˜è®¤ææ„å‡½æ•°(æ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©º)</li>
<li>é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼Œå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´</li>
<li>èµ‹å€¼è¿ç®—ç¬¦ operator=, å¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´</li>
</ol>
<p>å¦‚æœç±»ä¸­æœ‰å±æ€§æŒ‡å‘å †åŒºï¼Œåšèµ‹å€¼æ“ä½œæ—¶ä¹Ÿä¼šå‡ºç°æ·±æµ…æ‹·è´é—®é¢˜</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Person
{
public:

	Person(int age)
	{
		//å°†å¹´é¾„æ•°æ®å¼€è¾Ÿåˆ°å †åŒº
		m_Age = new int(age);
	}

	//é‡è½½èµ‹å€¼è¿ç®—ç¬¦ 
	Person&amp; operator=(Person &amp;p)
	{
		if (m_Age != NULL)
		{
			delete m_Age;
			m_Age = NULL;
		}
		//ç¼–è¯‘å™¨æä¾›çš„ä»£ç æ˜¯æµ…æ‹·è´
		//m_Age = p.m_Age;

		//æä¾›æ·±æ‹·è´ è§£å†³æµ…æ‹·è´çš„é—®é¢˜
		m_Age = new int(*p.m_Age);

		//è¿”å›è‡ªèº«
		return *this;
	}


	~Person()
	{
		if (m_Age != NULL)
		{
			delete m_Age;
			m_Age = NULL;
		}
	}

	//å¹´é¾„çš„æŒ‡é’ˆ
	int *m_Age;

};


void test01()
{
	Person p1(18);

	Person p2(20);

	Person p3(30);

	p3 = p2 = p1; //èµ‹å€¼æ“ä½œ

	cout &lt;&lt; &quot;p1çš„å¹´é¾„ä¸ºï¼š&quot; &lt;&lt; *p1.m_Age &lt;&lt; endl;

	cout &lt;&lt; &quot;p2çš„å¹´é¾„ä¸ºï¼š&quot; &lt;&lt; *p2.m_Age &lt;&lt; endl;

	cout &lt;&lt; &quot;p3çš„å¹´é¾„ä¸ºï¼š&quot; &lt;&lt; *p3.m_Age &lt;&lt; endl;
}

int main() {

	test01();

	//int a = 10;
	//int b = 20;
	//int c = 30;

	//c = b = a;
	//cout &lt;&lt; &quot;a = &quot; &lt;&lt; a &lt;&lt; endl;
	//cout &lt;&lt; &quot;b = &quot; &lt;&lt; b &lt;&lt; endl;
	//cout &lt;&lt; &quot;c = &quot; &lt;&lt; c &lt;&lt; endl;

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="455-å…³ç³»è¿ç®—ç¬¦é‡è½½">4.5.5 å…³ç³»è¿ç®—ç¬¦é‡è½½</h4>
<p>**ä½œç”¨ï¼š**é‡è½½å…³ç³»è¿ç®—ç¬¦ï¼Œå¯ä»¥è®©ä¸¤ä¸ªè‡ªå®šä¹‰ç±»å‹å¯¹è±¡è¿›è¡Œå¯¹æ¯”æ“ä½œ</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Person
{
public:
	Person(string name, int age)
	{
		this-&gt;m_Name = name;
		this-&gt;m_Age = age;
	};

	bool operator==(Person &amp; p)
	{
		if (this-&gt;m_Name == p.m_Name &amp;&amp; this-&gt;m_Age == p.m_Age)
		{
			return true;
		}
		else
		{
			return false;
		}
	}

	bool operator!=(Person &amp; p)
	{
		if (this-&gt;m_Name == p.m_Name &amp;&amp; this-&gt;m_Age == p.m_Age)
		{
			return false;
		}
		else
		{
			return true;
		}
	}

	string m_Name;
	int m_Age;
};

void test01()
{
	//int a = 0;
	//int b = 0;

	Person a(&quot;å­™æ‚Ÿç©º&quot;, 18);
	Person b(&quot;å­™æ‚Ÿç©º&quot;, 18);

	if (a == b)
	{
		cout &lt;&lt; &quot;aå’Œbç›¸ç­‰&quot; &lt;&lt; endl;
	}
	else
	{
		cout &lt;&lt; &quot;aå’Œbä¸ç›¸ç­‰&quot; &lt;&lt; endl;
	}

	if (a != b)
	{
		cout &lt;&lt; &quot;aå’Œbä¸ç›¸ç­‰&quot; &lt;&lt; endl;
	}
	else
	{
		cout &lt;&lt; &quot;aå’Œbç›¸ç­‰&quot; &lt;&lt; endl;
	}
}


int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="456-å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦é‡è½½">4.5.6 å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦é‡è½½</h4>
<ul>
<li>å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ ()  ä¹Ÿå¯ä»¥é‡è½½</li>
<li>ç”±äºé‡è½½åä½¿ç”¨çš„æ–¹å¼éå¸¸åƒå‡½æ•°çš„è°ƒç”¨ï¼Œå› æ­¤ç§°ä¸ºä»¿å‡½æ•°</li>
<li>ä»¿å‡½æ•°æ²¡æœ‰å›ºå®šå†™æ³•ï¼Œéå¸¸çµæ´»</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class MyPrint
{
public:
	void operator()(string text)
	{
		cout &lt;&lt; text &lt;&lt; endl;
	}

};
void test01()
{
	//é‡è½½çš„ï¼ˆï¼‰æ“ä½œç¬¦ ä¹Ÿç§°ä¸ºä»¿å‡½æ•°
	MyPrint myFunc;
	myFunc(&quot;hello world&quot;);
}


class MyAdd
{
public:
	int operator()(int v1, int v2)
	{
		return v1 + v2;
	}
};

void test02()
{
	MyAdd add;
	int ret = add(10, 10);
	cout &lt;&lt; &quot;ret = &quot; &lt;&lt; ret &lt;&lt; endl;

	//åŒ¿åå¯¹è±¡è°ƒç”¨  
	cout &lt;&lt; &quot;MyAdd()(100,100) = &quot; &lt;&lt; MyAdd()(100, 100) &lt;&lt; endl;
}

int main() {

	test01();
	test02();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h3 id="46-ç»§æ‰¿">4.6  ç»§æ‰¿</h3>
<p><strong>ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€</strong></p>
<p>æœ‰äº›ç±»ä¸ç±»ä¹‹é—´å­˜åœ¨ç‰¹æ®Šçš„å…³ç³»ï¼Œä¾‹å¦‚ä¸‹å›¾ä¸­ï¼š</p>
<figure data-type="image" tabindex="3"><img src="assets/1544861202252.png" alt="1544861202252" loading="lazy"></figure>
<p>æˆ‘ä»¬å‘ç°ï¼Œå®šä¹‰è¿™äº›ç±»æ—¶ï¼Œä¸‹çº§åˆ«çš„æˆå‘˜é™¤äº†æ‹¥æœ‰ä¸Šä¸€çº§çš„å…±æ€§ï¼Œè¿˜æœ‰è‡ªå·±çš„ç‰¹æ€§ã€‚</p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘åˆ©ç”¨ç»§æ‰¿çš„æŠ€æœ¯ï¼Œå‡å°‘é‡å¤ä»£ç </p>
<h4 id="461-ç»§æ‰¿çš„åŸºæœ¬è¯­æ³•">4.6.1 ç»§æ‰¿çš„åŸºæœ¬è¯­æ³•</h4>
<p>ä¾‹å¦‚æˆ‘ä»¬çœ‹åˆ°å¾ˆå¤šç½‘ç«™ä¸­ï¼Œéƒ½æœ‰å…¬å…±çš„å¤´éƒ¨ï¼Œå…¬å…±çš„åº•éƒ¨ï¼Œç”šè‡³å…¬å…±çš„å·¦ä¾§åˆ—è¡¨ï¼Œåªæœ‰ä¸­å¿ƒå†…å®¹ä¸åŒ</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬åˆ†åˆ«åˆ©ç”¨æ™®é€šå†™æ³•å’Œç»§æ‰¿çš„å†™æ³•æ¥å®ç°ç½‘é¡µä¸­çš„å†…å®¹ï¼Œçœ‹ä¸€ä¸‹ç»§æ‰¿å­˜åœ¨çš„æ„ä¹‰ä»¥åŠå¥½å¤„</p>
<p><strong>æ™®é€šå®ç°ï¼š</strong></p>
<pre><code class="language-C++">//Javaé¡µé¢
class Java 
{
public:
	void header()
	{
		cout &lt;&lt; &quot;é¦–é¡µã€å…¬å¼€è¯¾ã€ç™»å½•ã€æ³¨å†Œ...ï¼ˆå…¬å…±å¤´éƒ¨ï¼‰&quot; &lt;&lt; endl;
	}
	void footer()
	{
		cout &lt;&lt; &quot;å¸®åŠ©ä¸­å¿ƒã€äº¤æµåˆä½œã€ç«™å†…åœ°å›¾...(å…¬å…±åº•éƒ¨)&quot; &lt;&lt; endl;
	}
	void left()
	{
		cout &lt;&lt; &quot;Java,Python,C++...(å…¬å…±åˆ†ç±»åˆ—è¡¨)&quot; &lt;&lt; endl;
	}
	void content()
	{
		cout &lt;&lt; &quot;JAVAå­¦ç§‘è§†é¢‘&quot; &lt;&lt; endl;
	}
};
//Pythoné¡µé¢
class Python
{
public:
	void header()
	{
		cout &lt;&lt; &quot;é¦–é¡µã€å…¬å¼€è¯¾ã€ç™»å½•ã€æ³¨å†Œ...ï¼ˆå…¬å…±å¤´éƒ¨ï¼‰&quot; &lt;&lt; endl;
	}
	void footer()
	{
		cout &lt;&lt; &quot;å¸®åŠ©ä¸­å¿ƒã€äº¤æµåˆä½œã€ç«™å†…åœ°å›¾...(å…¬å…±åº•éƒ¨)&quot; &lt;&lt; endl;
	}
	void left()
	{
		cout &lt;&lt; &quot;Java,Python,C++...(å…¬å…±åˆ†ç±»åˆ—è¡¨)&quot; &lt;&lt; endl;
	}
	void content()
	{
		cout &lt;&lt; &quot;Pythonå­¦ç§‘è§†é¢‘&quot; &lt;&lt; endl;
	}
};
//C++é¡µé¢
class CPP 
{
public:
	void header()
	{
		cout &lt;&lt; &quot;é¦–é¡µã€å…¬å¼€è¯¾ã€ç™»å½•ã€æ³¨å†Œ...ï¼ˆå…¬å…±å¤´éƒ¨ï¼‰&quot; &lt;&lt; endl;
	}
	void footer()
	{
		cout &lt;&lt; &quot;å¸®åŠ©ä¸­å¿ƒã€äº¤æµåˆä½œã€ç«™å†…åœ°å›¾...(å…¬å…±åº•éƒ¨)&quot; &lt;&lt; endl;
	}
	void left()
	{
		cout &lt;&lt; &quot;Java,Python,C++...(å…¬å…±åˆ†ç±»åˆ—è¡¨)&quot; &lt;&lt; endl;
	}
	void content()
	{
		cout &lt;&lt; &quot;C++å­¦ç§‘è§†é¢‘&quot; &lt;&lt; endl;
	}
};

void test01()
{
	//Javaé¡µé¢
	cout &lt;&lt; &quot;Javaä¸‹è½½è§†é¢‘é¡µé¢å¦‚ä¸‹ï¼š &quot; &lt;&lt; endl;
	Java ja;
	ja.header();
	ja.footer();
	ja.left();
	ja.content();
	cout &lt;&lt; &quot;--------------------&quot; &lt;&lt; endl;

	//Pythoné¡µé¢
	cout &lt;&lt; &quot;Pythonä¸‹è½½è§†é¢‘é¡µé¢å¦‚ä¸‹ï¼š &quot; &lt;&lt; endl;
	Python py;
	py.header();
	py.footer();
	py.left();
	py.content();
	cout &lt;&lt; &quot;--------------------&quot; &lt;&lt; endl;

	//C++é¡µé¢
	cout &lt;&lt; &quot;C++ä¸‹è½½è§†é¢‘é¡µé¢å¦‚ä¸‹ï¼š &quot; &lt;&lt; endl;
	CPP cp;
	cp.header();
	cp.footer();
	cp.left();
	cp.content();

}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p><strong>ç»§æ‰¿å®ç°ï¼š</strong></p>
<pre><code class="language-C++">//å…¬å…±é¡µé¢
class BasePage
{
public:
	void header()
	{
		cout &lt;&lt; &quot;é¦–é¡µã€å…¬å¼€è¯¾ã€ç™»å½•ã€æ³¨å†Œ...ï¼ˆå…¬å…±å¤´éƒ¨ï¼‰&quot; &lt;&lt; endl;
	}

	void footer()
	{
		cout &lt;&lt; &quot;å¸®åŠ©ä¸­å¿ƒã€äº¤æµåˆä½œã€ç«™å†…åœ°å›¾...(å…¬å…±åº•éƒ¨)&quot; &lt;&lt; endl;
	}
	void left()
	{
		cout &lt;&lt; &quot;Java,Python,C++...(å…¬å…±åˆ†ç±»åˆ—è¡¨)&quot; &lt;&lt; endl;
	}

};

//Javaé¡µé¢
class Java : public BasePage
{
public:
	void content()
	{
		cout &lt;&lt; &quot;JAVAå­¦ç§‘è§†é¢‘&quot; &lt;&lt; endl;
	}
};
//Pythoné¡µé¢
class Python : public BasePage
{
public:
	void content()
	{
		cout &lt;&lt; &quot;Pythonå­¦ç§‘è§†é¢‘&quot; &lt;&lt; endl;
	}
};
//C++é¡µé¢
class CPP : public BasePage
{
public:
	void content()
	{
		cout &lt;&lt; &quot;C++å­¦ç§‘è§†é¢‘&quot; &lt;&lt; endl;
	}
};

void test01()
{
	//Javaé¡µé¢
	cout &lt;&lt; &quot;Javaä¸‹è½½è§†é¢‘é¡µé¢å¦‚ä¸‹ï¼š &quot; &lt;&lt; endl;
	Java ja;
	ja.header();
	ja.footer();
	ja.left();
	ja.content();
	cout &lt;&lt; &quot;--------------------&quot; &lt;&lt; endl;

	//Pythoné¡µé¢
	cout &lt;&lt; &quot;Pythonä¸‹è½½è§†é¢‘é¡µé¢å¦‚ä¸‹ï¼š &quot; &lt;&lt; endl;
	Python py;
	py.header();
	py.footer();
	py.left();
	py.content();
	cout &lt;&lt; &quot;--------------------&quot; &lt;&lt; endl;

	//C++é¡µé¢
	cout &lt;&lt; &quot;C++ä¸‹è½½è§†é¢‘é¡µé¢å¦‚ä¸‹ï¼š &quot; &lt;&lt; endl;
	CPP cp;
	cp.header();
	cp.footer();
	cp.left();
	cp.content();


}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p><strong>æ€»ç»“ï¼š</strong></p>
<p>ç»§æ‰¿çš„å¥½å¤„ï¼š<mark>å¯ä»¥å‡å°‘é‡å¤çš„ä»£ç </mark></p>
<p>class A : public B;</p>
<p>A ç±»ç§°ä¸ºå­ç±» æˆ– æ´¾ç”Ÿç±»</p>
<p>B ç±»ç§°ä¸ºçˆ¶ç±» æˆ– åŸºç±»</p>
<p><strong>æ´¾ç”Ÿç±»ä¸­çš„æˆå‘˜ï¼ŒåŒ…å«ä¸¤å¤§éƒ¨åˆ†</strong>ï¼š</p>
<p>ä¸€ç±»æ˜¯ä»åŸºç±»ç»§æ‰¿è¿‡æ¥çš„ï¼Œä¸€ç±»æ˜¯è‡ªå·±å¢åŠ çš„æˆå‘˜ã€‚</p>
<p>ä»åŸºç±»ç»§æ‰¿è¿‡è¿‡æ¥çš„è¡¨ç°å…¶å…±æ€§ï¼Œè€Œæ–°å¢çš„æˆå‘˜ä½“ç°äº†å…¶ä¸ªæ€§ã€‚</p>
<h4 id="462-ç»§æ‰¿æ–¹å¼">4.6.2 ç»§æ‰¿æ–¹å¼</h4>
<p>ç»§æ‰¿çš„è¯­æ³•ï¼š<code>class å­ç±» : ç»§æ‰¿æ–¹å¼ çˆ¶ç±»</code></p>
<p><strong>ç»§æ‰¿æ–¹å¼ä¸€å…±æœ‰ä¸‰ç§ï¼š</strong></p>
<ul>
<li>å…¬å…±ç»§æ‰¿</li>
<li>ä¿æŠ¤ç»§æ‰¿</li>
<li>ç§æœ‰ç»§æ‰¿</li>
</ul>
<figure data-type="image" tabindex="4"><img src="assets/clip_image002.png" alt="img" loading="lazy"></figure>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Base1
{
public: 
	int m_A;
protected:
	int m_B;
private:
	int m_C;
};

//å…¬å…±ç»§æ‰¿
class Son1 :public Base1
{
public:
	void func()
	{
		m_A; //å¯è®¿é—® publicæƒé™
		m_B; //å¯è®¿é—® protectedæƒé™
		//m_C; //ä¸å¯è®¿é—®
	}
};

void myClass()
{
	Son1 s1;
	s1.m_A; //å…¶ä»–ç±»åªèƒ½è®¿é—®åˆ°å…¬å…±æƒé™
}

//ä¿æŠ¤ç»§æ‰¿
class Base2
{
public:
	int m_A;
protected:
	int m_B;
private:
	int m_C;
};
class Son2:protected Base2
{
public:
	void func()
	{
		m_A; //å¯è®¿é—® protectedæƒé™
		m_B; //å¯è®¿é—® protectedæƒé™
		//m_C; //ä¸å¯è®¿é—®
	}
};
void myClass2()
{
	Son2 s;
	//s.m_A; //ä¸å¯è®¿é—®
}

//ç§æœ‰ç»§æ‰¿
class Base3
{
public:
	int m_A;
protected:
	int m_B;
private:
	int m_C;
};
class Son3:private Base3
{
public:
	void func()
	{
		m_A; //å¯è®¿é—® privateæƒé™
		m_B; //å¯è®¿é—® privateæƒé™
		//m_C; //ä¸å¯è®¿é—®
	}
};
class GrandSon3 :public Son3
{
public:
	void func()
	{
		//Son3æ˜¯ç§æœ‰ç»§æ‰¿ï¼Œæ‰€ä»¥ç»§æ‰¿Son3çš„å±æ€§åœ¨GrandSon3ä¸­éƒ½æ— æ³•è®¿é—®åˆ°
		//m_A;
		//m_B;
		//m_C;
	}
};
</code></pre>
<h4 id="463-ç»§æ‰¿ä¸­çš„å¯¹è±¡æ¨¡å‹">4.6.3 ç»§æ‰¿ä¸­çš„å¯¹è±¡æ¨¡å‹</h4>
<p>**é—®é¢˜ï¼š**ä»çˆ¶ç±»ç»§æ‰¿è¿‡æ¥çš„æˆå‘˜ï¼Œå“ªäº›å±äºå­ç±»å¯¹è±¡ä¸­ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Base
{
public:
	int m_A;
protected:
	int m_B;
private:
	int m_C; //ç§æœ‰æˆå‘˜åªæ˜¯è¢«éšè—äº†ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šç»§æ‰¿ä¸‹å»
};

//å…¬å…±ç»§æ‰¿
class Son :public Base
{
public:
	int m_D;
};

void test01()
{
	cout &lt;&lt; &quot;sizeof Son = &quot; &lt;&lt; sizeof(Son) &lt;&lt; endl;
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p>åˆ©ç”¨å·¥å…·æŸ¥çœ‹ï¼š</p>
<figure data-type="image" tabindex="5"><img src="assets/1545881904150.png" alt="1545881904150" loading="lazy"></figure>
<p>æ‰“å¼€å·¥å…·çª—å£åï¼Œå®šä½åˆ°å½“å‰CPPæ–‡ä»¶çš„ç›˜ç¬¦</p>
<p>ç„¶åè¾“å…¥ï¼š cl /d1 reportSingleClassLayoutæŸ¥çœ‹çš„ç±»å   æ‰€å±æ–‡ä»¶å</p>
<p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š</p>
<figure data-type="image" tabindex="6"><img src="assets/1545882158050.png" alt="1545882158050" loading="lazy"></figure>
<blockquote>
<p>ç»“è®ºï¼š çˆ¶ç±»ä¸­ç§æœ‰æˆå‘˜ä¹Ÿæ˜¯è¢«å­ç±»ç»§æ‰¿ä¸‹å»äº†ï¼Œåªæ˜¯ç”±ç¼–è¯‘å™¨ç»™éšè—åè®¿é—®ä¸åˆ°</p>
</blockquote>
<h4 id="464-ç»§æ‰¿ä¸­æ„é€ å’Œææ„é¡ºåº">4.6.4 ç»§æ‰¿ä¸­æ„é€ å’Œææ„é¡ºåº</h4>
<p>å­ç±»ç»§æ‰¿çˆ¶ç±»åï¼Œå½“åˆ›å»ºå­ç±»å¯¹è±¡ï¼Œä¹Ÿä¼šè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°</p>
<p>é—®é¢˜ï¼šçˆ¶ç±»å’Œå­ç±»çš„æ„é€ å’Œææ„é¡ºåºæ˜¯è°å…ˆè°åï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Base 
{
public:
	Base()
	{
		cout &lt;&lt; &quot;Baseæ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
	}
	~Base()
	{
		cout &lt;&lt; &quot;Baseææ„å‡½æ•°!&quot; &lt;&lt; endl;
	}
};

class Son : public Base
{
public:
	Son()
	{
		cout &lt;&lt; &quot;Sonæ„é€ å‡½æ•°!&quot; &lt;&lt; endl;
	}
	~Son()
	{
		cout &lt;&lt; &quot;Sonææ„å‡½æ•°!&quot; &lt;&lt; endl;
	}

};


void test01()
{
	//ç»§æ‰¿ä¸­ å…ˆè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨å­ç±»æ„é€ å‡½æ•°ï¼Œææ„é¡ºåºä¸æ„é€ ç›¸å
	Son s;
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<blockquote>
<p>æ€»ç»“ï¼šç»§æ‰¿ä¸­ å…ˆè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨å­ç±»æ„é€ å‡½æ•°ï¼Œææ„é¡ºåºä¸æ„é€ ç›¸å</p>
</blockquote>
<h4 id="465-ç»§æ‰¿åŒåæˆå‘˜å¤„ç†æ–¹å¼">4.6.5 ç»§æ‰¿åŒåæˆå‘˜å¤„ç†æ–¹å¼</h4>
<p>é—®é¢˜ï¼šå½“å­ç±»ä¸çˆ¶ç±»å‡ºç°åŒåçš„æˆå‘˜ï¼Œå¦‚ä½•é€šè¿‡å­ç±»å¯¹è±¡ï¼Œè®¿é—®åˆ°å­ç±»æˆ–çˆ¶ç±»ä¸­åŒåçš„æ•°æ®å‘¢ï¼Ÿ</p>
<ul>
<li>è®¿é—®å­ç±»åŒåæˆå‘˜   ç›´æ¥è®¿é—®å³å¯</li>
<li>è®¿é—®çˆ¶ç±»åŒåæˆå‘˜   éœ€è¦åŠ ä½œç”¨åŸŸ</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Base {
public:
	Base()
	{
		m_A = 100;
	}

	void func()
	{
		cout &lt;&lt; &quot;Base - func()è°ƒç”¨&quot; &lt;&lt; endl;
	}

	void func(int a)
	{
		cout &lt;&lt; &quot;Base - func(int a)è°ƒç”¨&quot; &lt;&lt; endl;
	}

public:
	int m_A;
};


class Son : public Base {
public:
	Son()
	{
		m_A = 200;
	}

	//å½“å­ç±»ä¸çˆ¶ç±»æ‹¥æœ‰åŒåçš„æˆå‘˜å‡½æ•°ï¼Œå­ç±»ä¼šéšè—çˆ¶ç±»ä¸­æ‰€æœ‰ç‰ˆæœ¬çš„åŒåæˆå‘˜å‡½æ•°
	//å¦‚æœæƒ³è®¿é—®çˆ¶ç±»ä¸­è¢«éšè—çš„åŒåæˆå‘˜å‡½æ•°ï¼Œéœ€è¦åŠ çˆ¶ç±»çš„ä½œç”¨åŸŸ
	void func()
	{
		cout &lt;&lt; &quot;Son - func()è°ƒç”¨&quot; &lt;&lt; endl;
	}
public:
	int m_A;
};

void test01()
{
	Son s;

	cout &lt;&lt; &quot;Sonä¸‹çš„m_A = &quot; &lt;&lt; s.m_A &lt;&lt; endl;
	cout &lt;&lt; &quot;Baseä¸‹çš„m_A = &quot; &lt;&lt; s.Base::m_A &lt;&lt; endl;

	s.func();
	s.Base::func();
	s.Base::func(10);

}
int main() {

	test01();

	system(&quot;pause&quot;);
	return EXIT_SUCCESS;
}
</code></pre>
<p>æ€»ç»“ï¼š</p>
<ol>
<li>å­ç±»å¯¹è±¡å¯ä»¥ç›´æ¥è®¿é—®åˆ°å­ç±»ä¸­åŒåæˆå‘˜</li>
<li>å­ç±»å¯¹è±¡åŠ ä½œç”¨åŸŸå¯ä»¥è®¿é—®åˆ°çˆ¶ç±»åŒåæˆå‘˜</li>
<li>å½“å­ç±»ä¸çˆ¶ç±»æ‹¥æœ‰åŒåçš„æˆå‘˜å‡½æ•°ï¼Œå­ç±»ä¼šéšè—çˆ¶ç±»ä¸­åŒåæˆå‘˜å‡½æ•°ï¼ŒåŠ ä½œç”¨åŸŸå¯ä»¥è®¿é—®åˆ°çˆ¶ç±»ä¸­åŒåå‡½æ•°</li>
</ol>
<h4 id="466-ç»§æ‰¿åŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼">4.6.6 ç»§æ‰¿åŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼</h4>
<p>é—®é¢˜ï¼šç»§æ‰¿ä¸­åŒåçš„é™æ€æˆå‘˜åœ¨å­ç±»å¯¹è±¡ä¸Šå¦‚ä½•è¿›è¡Œè®¿é—®ï¼Ÿ</p>
<p>é™æ€æˆå‘˜å’Œéé™æ€æˆå‘˜å‡ºç°åŒåï¼Œå¤„ç†æ–¹å¼ä¸€è‡´</p>
<ul>
<li>è®¿é—®å­ç±»åŒåæˆå‘˜   ç›´æ¥è®¿é—®å³å¯</li>
<li>è®¿é—®çˆ¶ç±»åŒåæˆå‘˜   éœ€è¦åŠ ä½œç”¨åŸŸ</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Base {
public:
	static void func()
	{
		cout &lt;&lt; &quot;Base - static void func()&quot; &lt;&lt; endl;
	}
	static void func(int a)
	{
		cout &lt;&lt; &quot;Base - static void func(int a)&quot; &lt;&lt; endl;
	}

	static int m_A;
};

int Base::m_A = 100;

class Son : public Base {
public:
	static void func()
	{
		cout &lt;&lt; &quot;Son - static void func()&quot; &lt;&lt; endl;
	}
	static int m_A;
};

int Son::m_A = 200;

//åŒåæˆå‘˜å±æ€§
void test01()
{
	//é€šè¿‡å¯¹è±¡è®¿é—®
	cout &lt;&lt; &quot;é€šè¿‡å¯¹è±¡è®¿é—®ï¼š &quot; &lt;&lt; endl;
	Son s;
	cout &lt;&lt; &quot;Son  ä¸‹ m_A = &quot; &lt;&lt; s.m_A &lt;&lt; endl;
	cout &lt;&lt; &quot;Base ä¸‹ m_A = &quot; &lt;&lt; s.Base::m_A &lt;&lt; endl;

	//é€šè¿‡ç±»åè®¿é—®
	cout &lt;&lt; &quot;é€šè¿‡ç±»åè®¿é—®ï¼š &quot; &lt;&lt; endl;
	cout &lt;&lt; &quot;Son  ä¸‹ m_A = &quot; &lt;&lt; Son::m_A &lt;&lt; endl;
	cout &lt;&lt; &quot;Base ä¸‹ m_A = &quot; &lt;&lt; Son::Base::m_A &lt;&lt; endl;
}

//åŒåæˆå‘˜å‡½æ•°
void test02()
{
	//é€šè¿‡å¯¹è±¡è®¿é—®
	cout &lt;&lt; &quot;é€šè¿‡å¯¹è±¡è®¿é—®ï¼š &quot; &lt;&lt; endl;
	Son s;
	s.func();
	s.Base::func();

	cout &lt;&lt; &quot;é€šè¿‡ç±»åè®¿é—®ï¼š &quot; &lt;&lt; endl;
	Son::func();
	Son::Base::func();
	//å‡ºç°åŒåï¼Œå­ç±»ä¼šéšè—æ‰çˆ¶ç±»ä¸­æ‰€æœ‰åŒåæˆå‘˜å‡½æ•°ï¼Œéœ€è¦åŠ ä½œä½œç”¨åŸŸè®¿é—®
	Son::Base::func(100);
}
int main() {

	//test01();
	test02();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<blockquote>
<p>æ€»ç»“ï¼šåŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼å’Œéé™æ€å¤„ç†æ–¹å¼ä¸€æ ·ï¼Œåªä¸è¿‡æœ‰ä¸¤ç§è®¿é—®çš„æ–¹å¼ï¼ˆé€šè¿‡å¯¹è±¡ å’Œ é€šè¿‡ç±»åï¼‰</p>
</blockquote>
<h4 id="467-å¤šç»§æ‰¿è¯­æ³•">4.6.7 å¤šç»§æ‰¿è¯­æ³•</h4>
<p>C++å…è®¸<strong>ä¸€ä¸ªç±»ç»§æ‰¿å¤šä¸ªç±»</strong></p>
<p>è¯­æ³•ï¼š<code>class å­ç±» ï¼šç»§æ‰¿æ–¹å¼ çˆ¶ç±»1 ï¼Œ ç»§æ‰¿æ–¹å¼ çˆ¶ç±»2...</code></p>
<p>å¤šç»§æ‰¿å¯èƒ½ä¼šå¼•å‘çˆ¶ç±»ä¸­æœ‰åŒåæˆå‘˜å‡ºç°ï¼Œéœ€è¦åŠ ä½œç”¨åŸŸåŒºåˆ†</p>
<p><strong>C++å®é™…å¼€å‘ä¸­ä¸å»ºè®®ç”¨å¤šç»§æ‰¿</strong></p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Base1 {
public:
	Base1()
	{
		m_A = 100;
	}
public:
	int m_A;
};

class Base2 {
public:
	Base2()
	{
		m_A = 200;  //å¼€å§‹æ˜¯m_B ä¸ä¼šå‡ºé—®é¢˜ï¼Œä½†æ˜¯æ”¹ä¸ºmAå°±ä¼šå‡ºç°ä¸æ˜ç¡®
	}
public:
	int m_A;
};

//è¯­æ³•ï¼šclass å­ç±»ï¼šç»§æ‰¿æ–¹å¼ çˆ¶ç±»1 ï¼Œç»§æ‰¿æ–¹å¼ çˆ¶ç±»2 
class Son : public Base2, public Base1 
{
public:
	Son()
	{
		m_C = 300;
		m_D = 400;
	}
public:
	int m_C;
	int m_D;
};


//å¤šç»§æ‰¿å®¹æ˜“äº§ç”Ÿæˆå‘˜åŒåçš„æƒ…å†µ
//é€šè¿‡ä½¿ç”¨ç±»åä½œç”¨åŸŸå¯ä»¥åŒºåˆ†è°ƒç”¨å“ªä¸€ä¸ªåŸºç±»çš„æˆå‘˜
void test01()
{
	Son s;
	cout &lt;&lt; &quot;sizeof Son = &quot; &lt;&lt; sizeof(s) &lt;&lt; endl;
	cout &lt;&lt; s.Base1::m_A &lt;&lt; endl;
	cout &lt;&lt; s.Base2::m_A &lt;&lt; endl;
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<blockquote>
<p>æ€»ç»“ï¼š å¤šç»§æ‰¿ä¸­å¦‚æœçˆ¶ç±»ä¸­å‡ºç°äº†åŒåæƒ…å†µï¼Œå­ç±»ä½¿ç”¨æ—¶å€™è¦åŠ ä½œç”¨åŸŸ</p>
</blockquote>
<h4 id="468-è±å½¢ç»§æ‰¿">4.6.8 è±å½¢ç»§æ‰¿</h4>
<p><strong>è±å½¢ç»§æ‰¿æ¦‚å¿µï¼š</strong></p>
<p>â€‹	ä¸¤ä¸ªæ´¾ç”Ÿç±»ç»§æ‰¿åŒä¸€ä¸ªåŸºç±»</p>
<p>â€‹	åˆæœ‰æŸä¸ªç±»åŒæ—¶ç»§æ‰¿è€…ä¸¤ä¸ªæ´¾ç”Ÿç±»</p>
<p>â€‹	è¿™ç§ç»§æ‰¿è¢«ç§°ä¸ºè±å½¢ç»§æ‰¿ï¼Œæˆ–è€…é’»çŸ³ç»§æ‰¿</p>
<p><strong>å…¸å‹çš„è±å½¢ç»§æ‰¿æ¡ˆä¾‹ï¼š</strong></p>
<figure data-type="image" tabindex="7"><img src="assets/clip_image002.jpg" alt="IMG_256" loading="lazy"></figure>
<p><strong>è±å½¢ç»§æ‰¿é—®é¢˜ï¼š</strong></p>
<ol>
<li>
<pre><code>ç¾Šç»§æ‰¿äº†åŠ¨ç‰©çš„æ•°æ®ï¼Œé©¼åŒæ ·ç»§æ‰¿äº†åŠ¨ç‰©çš„æ•°æ®ï¼Œå½“è‰æ³¥é©¬ä½¿ç”¨æ•°æ®æ—¶ï¼Œå°±ä¼šäº§ç”ŸäºŒä¹‰æ€§ã€‚
</code></pre>
</li>
<li>
<pre><code>è‰æ³¥é©¬ç»§æ‰¿è‡ªåŠ¨ç‰©çš„æ•°æ®ç»§æ‰¿äº†ä¸¤ä»½ï¼Œå…¶å®æˆ‘ä»¬åº”è¯¥æ¸…æ¥šï¼Œè¿™ä»½æ•°æ®æˆ‘ä»¬åªéœ€è¦ä¸€ä»½å°±å¯ä»¥ã€‚
</code></pre>
</li>
</ol>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Animal
{
public:
	int m_Age;
};

//ç»§æ‰¿å‰åŠ virtualå…³é”®å­—åï¼Œå˜ä¸ºè™šç»§æ‰¿
//æ­¤æ—¶å…¬å…±çš„çˆ¶ç±»Animalç§°ä¸ºè™šåŸºç±»
class Sheep : virtual public Animal {};
class Tuo   : virtual public Animal {};
class SheepTuo : public Sheep, public Tuo {};

void test01()
{
	SheepTuo st;
	st.Sheep::m_Age = 100;
	st.Tuo::m_Age = 200;

	cout &lt;&lt; &quot;st.Sheep::m_Age = &quot; &lt;&lt; st.Sheep::m_Age &lt;&lt; endl;
	cout &lt;&lt; &quot;st.Tuo::m_Age = &quot; &lt;&lt;  st.Tuo::m_Age &lt;&lt; endl;
	cout &lt;&lt; &quot;st.m_Age = &quot; &lt;&lt; st.m_Age &lt;&lt; endl;
}


int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>è±å½¢ç»§æ‰¿å¸¦æ¥çš„ä¸»è¦é—®é¢˜æ˜¯å­ç±»ç»§æ‰¿ä¸¤ä»½ç›¸åŒçš„æ•°æ®ï¼Œå¯¼è‡´èµ„æºæµªè´¹ä»¥åŠæ¯«æ— æ„ä¹‰</li>
<li>åˆ©ç”¨è™šç»§æ‰¿å¯ä»¥è§£å†³è±å½¢ç»§æ‰¿é—®é¢˜</li>
</ul>
<h3 id="47-å¤šæ€">4.7  å¤šæ€</h3>
<h4 id="471-å¤šæ€çš„åŸºæœ¬æ¦‚å¿µ">4.7.1 å¤šæ€çš„åŸºæœ¬æ¦‚å¿µ</h4>
<p><strong>å¤šæ€æ˜¯C++é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€</strong></p>
<p>å¤šæ€åˆ†ä¸ºä¸¤ç±»</p>
<ul>
<li>é™æ€å¤šæ€: å‡½æ•°é‡è½½ å’Œ è¿ç®—ç¬¦é‡è½½å±äºé™æ€å¤šæ€ï¼Œå¤ç”¨å‡½æ•°å</li>
<li>åŠ¨æ€å¤šæ€: æ´¾ç”Ÿç±»å’Œè™šå‡½æ•°å®ç°è¿è¡Œæ—¶å¤šæ€</li>
</ul>
<p>é™æ€å¤šæ€å’ŒåŠ¨æ€å¤šæ€åŒºåˆ«ï¼š</p>
<ul>
<li>é™æ€å¤šæ€çš„å‡½æ•°åœ°å€æ—©ç»‘å®š  -  ç¼–è¯‘é˜¶æ®µç¡®å®šå‡½æ•°åœ°å€</li>
<li>åŠ¨æ€å¤šæ€çš„å‡½æ•°åœ°å€æ™šç»‘å®š  -  è¿è¡Œé˜¶æ®µç¡®å®šå‡½æ•°åœ°å€</li>
</ul>
<p>ä¸‹é¢é€šè¿‡æ¡ˆä¾‹è¿›è¡Œè®²è§£å¤šæ€</p>
<pre><code class="language-C++">class Animal
{
public:
	//Speakå‡½æ•°å°±æ˜¯è™šå‡½æ•°
	//å‡½æ•°å‰é¢åŠ ä¸Švirtualå…³é”®å­—ï¼Œå˜æˆè™šå‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™å°±ä¸èƒ½ç¡®å®šå‡½æ•°è°ƒç”¨äº†ã€‚
	virtual void speak()
	{
		cout &lt;&lt; &quot;åŠ¨ç‰©åœ¨è¯´è¯&quot; &lt;&lt; endl;
	}
};

class Cat :public Animal
{
public:
	void speak()
	{
		cout &lt;&lt; &quot;å°çŒ«åœ¨è¯´è¯&quot; &lt;&lt; endl;
	}
};

class Dog :public Animal
{
public:

	void speak()
	{
		cout &lt;&lt; &quot;å°ç‹—åœ¨è¯´è¯&quot; &lt;&lt; endl;
	}

};
//æˆ‘ä»¬å¸Œæœ›ä¼ å…¥ä»€ä¹ˆå¯¹è±¡ï¼Œé‚£ä¹ˆå°±è°ƒç”¨ä»€ä¹ˆå¯¹è±¡çš„å‡½æ•°
//å¦‚æœå‡½æ•°åœ°å€åœ¨ç¼–è¯‘é˜¶æ®µå°±èƒ½ç¡®å®šï¼Œé‚£ä¹ˆé™æ€è”ç¼–
//å¦‚æœå‡½æ•°åœ°å€åœ¨è¿è¡Œé˜¶æ®µæ‰èƒ½ç¡®å®šï¼Œå°±æ˜¯åŠ¨æ€è”ç¼–

void DoSpeak(Animal &amp; animal)
{
	animal.speak();
}
//
//å¤šæ€æ»¡è¶³æ¡ä»¶ï¼š 
//1ã€æœ‰ç»§æ‰¿å…³ç³»
//2ã€å­ç±»é‡å†™çˆ¶ç±»ä¸­çš„è™šå‡½æ•°
//å¤šæ€ä½¿ç”¨ï¼š
//çˆ¶ç±»æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡

void test01()
{
	Cat cat;
	DoSpeak(cat);


	Dog dog;
	DoSpeak(dog);
}


int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p>æ€»ç»“ï¼š</p>
<p>å¤šæ€æ»¡è¶³æ¡ä»¶</p>
<ul>
<li>æœ‰ç»§æ‰¿å…³ç³»</li>
<li>å­ç±»é‡å†™çˆ¶ç±»ä¸­çš„è™šå‡½æ•°</li>
</ul>
<p>å¤šæ€ä½¿ç”¨æ¡ä»¶</p>
<ul>
<li>çˆ¶ç±»æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡</li>
</ul>
<p>é‡å†™ï¼šå‡½æ•°è¿”å›å€¼ç±»å‹  å‡½æ•°å å‚æ•°åˆ—è¡¨ å®Œå…¨ä¸€è‡´ç§°ä¸ºé‡å†™</p>
<h4 id="472-å¤šæ€æ¡ˆä¾‹ä¸€-è®¡ç®—å™¨ç±»">4.7.2 å¤šæ€æ¡ˆä¾‹ä¸€-è®¡ç®—å™¨ç±»</h4>
<p>æ¡ˆä¾‹æè¿°ï¼š</p>
<p>åˆ†åˆ«åˆ©ç”¨æ™®é€šå†™æ³•å’Œå¤šæ€æŠ€æœ¯ï¼Œè®¾è®¡å®ç°ä¸¤ä¸ªæ“ä½œæ•°è¿›è¡Œè¿ç®—çš„è®¡ç®—å™¨ç±»</p>
<p>å¤šæ€çš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li>ä»£ç ç»„ç»‡ç»“æ„æ¸…æ™°</li>
<li>å¯è¯»æ€§å¼º</li>
<li>åˆ©äºå‰æœŸå’ŒåæœŸçš„æ‰©å±•ä»¥åŠç»´æŠ¤</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">//æ™®é€šå®ç°
class Calculator {
public:
	int getResult(string oper)
	{
		if (oper == &quot;+&quot;) {
			return m_Num1 + m_Num2;
		}
		else if (oper == &quot;-&quot;) {
			return m_Num1 - m_Num2;
		}
		else if (oper == &quot;*&quot;) {
			return m_Num1 * m_Num2;
		}
		//å¦‚æœè¦æä¾›æ–°çš„è¿ç®—ï¼Œéœ€è¦ä¿®æ”¹æºç 
	}
public:
	int m_Num1;
	int m_Num2;
};

void test01()
{
	//æ™®é€šå®ç°æµ‹è¯•
	Calculator c;
	c.m_Num1 = 10;
	c.m_Num2 = 10;
	cout &lt;&lt; c.m_Num1 &lt;&lt; &quot; + &quot; &lt;&lt; c.m_Num2 &lt;&lt; &quot; = &quot; &lt;&lt; c.getResult(&quot;+&quot;) &lt;&lt; endl;

	cout &lt;&lt; c.m_Num1 &lt;&lt; &quot; - &quot; &lt;&lt; c.m_Num2 &lt;&lt; &quot; = &quot; &lt;&lt; c.getResult(&quot;-&quot;) &lt;&lt; endl;

	cout &lt;&lt; c.m_Num1 &lt;&lt; &quot; * &quot; &lt;&lt; c.m_Num2 &lt;&lt; &quot; = &quot; &lt;&lt; c.getResult(&quot;*&quot;) &lt;&lt; endl;
}



//å¤šæ€å®ç°
//æŠ½è±¡è®¡ç®—å™¨ç±»
//å¤šæ€ä¼˜ç‚¹ï¼šä»£ç ç»„ç»‡ç»“æ„æ¸…æ™°ï¼Œå¯è¯»æ€§å¼ºï¼Œåˆ©äºå‰æœŸå’ŒåæœŸçš„æ‰©å±•ä»¥åŠç»´æŠ¤
class AbstractCalculator
{
public :

	virtual int getResult()
	{
		return 0;
	}

	int m_Num1;
	int m_Num2;
};

//åŠ æ³•è®¡ç®—å™¨
class AddCalculator :public AbstractCalculator
{
public:
	int getResult()
	{
		return m_Num1 + m_Num2;
	}
};

//å‡æ³•è®¡ç®—å™¨
class SubCalculator :public AbstractCalculator
{
public:
	int getResult()
	{
		return m_Num1 - m_Num2;
	}
};

//ä¹˜æ³•è®¡ç®—å™¨
class MulCalculator :public AbstractCalculator
{
public:
	int getResult()
	{
		return m_Num1 * m_Num2;
	}
};


void test02()
{
	//åˆ›å»ºåŠ æ³•è®¡ç®—å™¨
	AbstractCalculator *abc = new AddCalculator;
	abc-&gt;m_Num1 = 10;
	abc-&gt;m_Num2 = 10;
	cout &lt;&lt; abc-&gt;m_Num1 &lt;&lt; &quot; + &quot; &lt;&lt; abc-&gt;m_Num2 &lt;&lt; &quot; = &quot; &lt;&lt; abc-&gt;getResult() &lt;&lt; endl;
	delete abc;  //ç”¨å®Œäº†è®°å¾—é”€æ¯

	//åˆ›å»ºå‡æ³•è®¡ç®—å™¨
	abc = new SubCalculator;
	abc-&gt;m_Num1 = 10;
	abc-&gt;m_Num2 = 10;
	cout &lt;&lt; abc-&gt;m_Num1 &lt;&lt; &quot; - &quot; &lt;&lt; abc-&gt;m_Num2 &lt;&lt; &quot; = &quot; &lt;&lt; abc-&gt;getResult() &lt;&lt; endl;
	delete abc;  

	//åˆ›å»ºä¹˜æ³•è®¡ç®—å™¨
	abc = new MulCalculator;
	abc-&gt;m_Num1 = 10;
	abc-&gt;m_Num2 = 10;
	cout &lt;&lt; abc-&gt;m_Num1 &lt;&lt; &quot; * &quot; &lt;&lt; abc-&gt;m_Num2 &lt;&lt; &quot; = &quot; &lt;&lt; abc-&gt;getResult() &lt;&lt; endl;
	delete abc;
}

int main() {

	//test01();

	test02();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<blockquote>
<p>æ€»ç»“ï¼šC++å¼€å‘æå€¡åˆ©ç”¨å¤šæ€è®¾è®¡ç¨‹åºæ¶æ„ï¼Œå› ä¸ºå¤šæ€ä¼˜ç‚¹å¾ˆå¤š</p>
</blockquote>
<h4 id="473-çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»">4.7.3 çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»</h4>
<p>åœ¨å¤šæ€ä¸­ï¼Œé€šå¸¸çˆ¶ç±»ä¸­è™šå‡½æ•°çš„å®ç°æ˜¯æ¯«æ— æ„ä¹‰çš„ï¼Œä¸»è¦éƒ½æ˜¯è°ƒç”¨å­ç±»é‡å†™çš„å†…å®¹</p>
<p>å› æ­¤å¯ä»¥å°†è™šå‡½æ•°æ”¹ä¸º<strong>çº¯è™šå‡½æ•°</strong></p>
<p>çº¯è™šå‡½æ•°è¯­æ³•ï¼š<code>virtual è¿”å›å€¼ç±»å‹ å‡½æ•°å ï¼ˆå‚æ•°åˆ—è¡¨ï¼‰= 0 ;</code></p>
<p>å½“ç±»ä¸­æœ‰äº†çº¯è™šå‡½æ•°ï¼Œè¿™ä¸ªç±»ä¹Ÿç§°ä¸º<mark>æŠ½è±¡ç±»</mark></p>
<p><strong>æŠ½è±¡ç±»ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ— æ³•å®ä¾‹åŒ–å¯¹è±¡</li>
<li>å­ç±»å¿…é¡»é‡å†™æŠ½è±¡ç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼Œå¦åˆ™ä¹Ÿå±äºæŠ½è±¡ç±»</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Base
{
public:
	//çº¯è™šå‡½æ•°
	//ç±»ä¸­åªè¦æœ‰ä¸€ä¸ªçº¯è™šå‡½æ•°å°±ç§°ä¸ºæŠ½è±¡ç±»
	//æŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–å¯¹è±¡
	//å­ç±»å¿…é¡»é‡å†™çˆ¶ç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼Œå¦åˆ™ä¹Ÿå±äºæŠ½è±¡ç±»
	virtual void func() = 0;
};

class Son :public Base
{
public:
	virtual void func() 
	{
		cout &lt;&lt; &quot;funcè°ƒç”¨&quot; &lt;&lt; endl;
	};
};

void test01()
{
	Base * base = NULL;
	//base = new Base; // é”™è¯¯ï¼ŒæŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–å¯¹è±¡
	base = new Son;
	base-&gt;func();
	delete base;//è®°å¾—é”€æ¯
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="474-å¤šæ€æ¡ˆä¾‹äºŒ-åˆ¶ä½œé¥®å“">4.7.4 å¤šæ€æ¡ˆä¾‹äºŒ-åˆ¶ä½œé¥®å“</h4>
<p><strong>æ¡ˆä¾‹æè¿°ï¼š</strong></p>
<p>åˆ¶ä½œé¥®å“çš„å¤§è‡´æµç¨‹ä¸ºï¼šç…®æ°´ -  å†²æ³¡ - å€’å…¥æ¯ä¸­ - åŠ å…¥è¾…æ–™</p>
<p>åˆ©ç”¨å¤šæ€æŠ€æœ¯å®ç°æœ¬æ¡ˆä¾‹ï¼Œæä¾›æŠ½è±¡åˆ¶ä½œé¥®å“åŸºç±»ï¼Œæä¾›å­ç±»åˆ¶ä½œå’–å•¡å’ŒèŒ¶å¶</p>
<figure data-type="image" tabindex="8"><img src="assets/1545985945198.png" alt="1545985945198" loading="lazy"></figure>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">//æŠ½è±¡åˆ¶ä½œé¥®å“
class AbstractDrinking {
public:
	//çƒ§æ°´
	virtual void Boil() = 0;
	//å†²æ³¡
	virtual void Brew() = 0;
	//å€’å…¥æ¯ä¸­
	virtual void PourInCup() = 0;
	//åŠ å…¥è¾…æ–™
	virtual void PutSomething() = 0;
	//è§„å®šæµç¨‹
	void MakeDrink() {
		Boil();
		Brew();
		PourInCup();
		PutSomething();
	}
};

//åˆ¶ä½œå’–å•¡
class Coffee : public AbstractDrinking {
public:
	//çƒ§æ°´
	virtual void Boil() {
		cout &lt;&lt; &quot;ç…®å†œå¤«å±±æ³‰!&quot; &lt;&lt; endl;
	}
	//å†²æ³¡
	virtual void Brew() {
		cout &lt;&lt; &quot;å†²æ³¡å’–å•¡!&quot; &lt;&lt; endl;
	}
	//å€’å…¥æ¯ä¸­
	virtual void PourInCup() {
		cout &lt;&lt; &quot;å°†å’–å•¡å€’å…¥æ¯ä¸­!&quot; &lt;&lt; endl;
	}
	//åŠ å…¥è¾…æ–™
	virtual void PutSomething() {
		cout &lt;&lt; &quot;åŠ å…¥ç‰›å¥¶!&quot; &lt;&lt; endl;
	}
};

//åˆ¶ä½œèŒ¶æ°´
class Tea : public AbstractDrinking {
public:
	//çƒ§æ°´
	virtual void Boil() {
		cout &lt;&lt; &quot;ç…®è‡ªæ¥æ°´!&quot; &lt;&lt; endl;
	}
	//å†²æ³¡
	virtual void Brew() {
		cout &lt;&lt; &quot;å†²æ³¡èŒ¶å¶!&quot; &lt;&lt; endl;
	}
	//å€’å…¥æ¯ä¸­
	virtual void PourInCup() {
		cout &lt;&lt; &quot;å°†èŒ¶æ°´å€’å…¥æ¯ä¸­!&quot; &lt;&lt; endl;
	}
	//åŠ å…¥è¾…æ–™
	virtual void PutSomething() {
		cout &lt;&lt; &quot;åŠ å…¥æ¸æ!&quot; &lt;&lt; endl;
	}
};

//ä¸šåŠ¡å‡½æ•°
void DoWork(AbstractDrinking* drink) {
	drink-&gt;MakeDrink();
	delete drink;
}

void test01() {
	DoWork(new Coffee);
	cout &lt;&lt; &quot;--------------&quot; &lt;&lt; endl;
	DoWork(new Tea);
}


int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<h4 id="475-è™šææ„å’Œçº¯è™šææ„">4.7.5 è™šææ„å’Œçº¯è™šææ„</h4>
<p>å¤šæ€ä½¿ç”¨æ—¶ï¼Œå¦‚æœå­ç±»ä¸­æœ‰å±æ€§å¼€è¾Ÿåˆ°å †åŒºï¼Œé‚£ä¹ˆçˆ¶ç±»æŒ‡é’ˆåœ¨é‡Šæ”¾æ—¶æ— æ³•è°ƒç”¨åˆ°å­ç±»çš„ææ„ä»£ç </p>
<p>è§£å†³æ–¹å¼ï¼šå°†çˆ¶ç±»ä¸­çš„ææ„å‡½æ•°æ”¹ä¸º<strong>è™šææ„</strong>æˆ–è€…<strong>çº¯è™šææ„</strong></p>
<p>è™šææ„å’Œçº¯è™šææ„å…±æ€§ï¼š</p>
<ul>
<li>å¯ä»¥è§£å†³çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡</li>
<li>éƒ½éœ€è¦æœ‰å…·ä½“çš„å‡½æ•°å®ç°</li>
</ul>
<p>è™šææ„å’Œçº¯è™šææ„åŒºåˆ«ï¼š</p>
<ul>
<li>å¦‚æœæ˜¯çº¯è™šææ„ï¼Œè¯¥ç±»å±äºæŠ½è±¡ç±»ï¼Œæ— æ³•å®ä¾‹åŒ–å¯¹è±¡</li>
</ul>
<p>è™šææ„è¯­æ³•ï¼š</p>
<p><code>virtual ~ç±»å(){}</code></p>
<p>çº¯è™šææ„è¯­æ³•ï¼š</p>
<p><code>virtual ~ç±»å() = 0;</code></p>
<p><code>ç±»å::~ç±»å(){}</code></p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">class Animal {
public:

	Animal()
	{
		cout &lt;&lt; &quot;Animal æ„é€ å‡½æ•°è°ƒç”¨ï¼&quot; &lt;&lt; endl;
	}
	virtual void Speak() = 0;

	//ææ„å‡½æ•°åŠ ä¸Švirtualå…³é”®å­—ï¼Œå˜æˆè™šææ„å‡½æ•°
	//virtual ~Animal()
	//{
	//	cout &lt;&lt; &quot;Animalè™šææ„å‡½æ•°è°ƒç”¨ï¼&quot; &lt;&lt; endl;
	//}


	virtual ~Animal() = 0;
};

Animal::~Animal()
{
	cout &lt;&lt; &quot;Animal çº¯è™šææ„å‡½æ•°è°ƒç”¨ï¼&quot; &lt;&lt; endl;
}

//å’ŒåŒ…å«æ™®é€šçº¯è™šå‡½æ•°çš„ç±»ä¸€æ ·ï¼ŒåŒ…å«äº†çº¯è™šææ„å‡½æ•°çš„ç±»ä¹Ÿæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ã€‚ä¸èƒ½å¤Ÿè¢«å®ä¾‹åŒ–ã€‚

class Cat : public Animal {
public:
	Cat(string name)
	{
		cout &lt;&lt; &quot;Catæ„é€ å‡½æ•°è°ƒç”¨ï¼&quot; &lt;&lt; endl;
		m_Name = new string(name);
	}
	virtual void Speak()
	{
		cout &lt;&lt; *m_Name &lt;&lt;  &quot;å°çŒ«åœ¨è¯´è¯!&quot; &lt;&lt; endl;
	}
	~Cat()
	{
		cout &lt;&lt; &quot;Catææ„å‡½æ•°è°ƒç”¨!&quot; &lt;&lt; endl;
		if (this-&gt;m_Name != NULL) {
			delete m_Name;
			m_Name = NULL;
		}
	}

public:
	string *m_Name;
};

void test01()
{
	Animal *animal = new Cat(&quot;Tom&quot;);
	animal-&gt;Speak();

	//é€šè¿‡çˆ¶ç±»æŒ‡é’ˆå»é‡Šæ”¾ï¼Œä¼šå¯¼è‡´å­ç±»å¯¹è±¡å¯èƒ½æ¸…ç†ä¸å¹²å‡€ï¼Œé€ æˆå†…å­˜æ³„æ¼
	//æ€ä¹ˆè§£å†³ï¼Ÿç»™åŸºç±»å¢åŠ ä¸€ä¸ªè™šææ„å‡½æ•°
	//è™šææ„å‡½æ•°å°±æ˜¯ç”¨æ¥è§£å†³é€šè¿‡çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡
	delete animal;
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p>æ€»ç»“ï¼š</p>
<p>â€‹	1. è™šææ„æˆ–çº¯è™šææ„å°±æ˜¯ç”¨æ¥è§£å†³é€šè¿‡çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡</p>
<p>â€‹	2. å¦‚æœå­ç±»ä¸­æ²¡æœ‰å †åŒºæ•°æ®ï¼Œå¯ä»¥ä¸å†™ä¸ºè™šææ„æˆ–çº¯è™šææ„</p>
<p>â€‹	3. æ‹¥æœ‰çº¯è™šææ„å‡½æ•°çš„ç±»ä¹Ÿå±äºæŠ½è±¡ç±»</p>
<h4 id="476-å¤šæ€æ¡ˆä¾‹ä¸‰-ç”µè„‘ç»„è£…">4.7.6 å¤šæ€æ¡ˆä¾‹ä¸‰-ç”µè„‘ç»„è£…</h4>
<p><strong>æ¡ˆä¾‹æè¿°ï¼š</strong></p>
<p>ç”µè„‘ä¸»è¦ç»„æˆéƒ¨ä»¶ä¸º CPUï¼ˆç”¨äºè®¡ç®—ï¼‰ï¼Œæ˜¾å¡ï¼ˆç”¨äºæ˜¾ç¤ºï¼‰ï¼Œå†…å­˜æ¡ï¼ˆç”¨äºå­˜å‚¨ï¼‰</p>
<p>å°†æ¯ä¸ªé›¶ä»¶å°è£…å‡ºæŠ½è±¡åŸºç±»ï¼Œå¹¶ä¸”æä¾›ä¸åŒçš„å‚å•†ç”Ÿäº§ä¸åŒçš„é›¶ä»¶ï¼Œä¾‹å¦‚Intelå‚å•†å’ŒLenovoå‚å•†</p>
<p>åˆ›å»ºç”µè„‘ç±»æä¾›è®©ç”µè„‘å·¥ä½œçš„å‡½æ•°ï¼Œå¹¶ä¸”è°ƒç”¨æ¯ä¸ªé›¶ä»¶å·¥ä½œçš„æ¥å£</p>
<p>æµ‹è¯•æ—¶ç»„è£…ä¸‰å°ä¸åŒçš„ç”µè„‘è¿›è¡Œå·¥ä½œ</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">#include&lt;iostream&gt;
using namespace std;

//æŠ½è±¡CPUç±»
class CPU
{
public:
	//æŠ½è±¡çš„è®¡ç®—å‡½æ•°
	virtual void calculate() = 0;
};

//æŠ½è±¡æ˜¾å¡ç±»
class VideoCard
{
public:
	//æŠ½è±¡çš„æ˜¾ç¤ºå‡½æ•°
	virtual void display() = 0;
};

//æŠ½è±¡å†…å­˜æ¡ç±»
class Memory
{
public:
	//æŠ½è±¡çš„å­˜å‚¨å‡½æ•°
	virtual void storage() = 0;
};

//ç”µè„‘ç±»
class Computer
{
public:
	Computer(CPU * cpu, VideoCard * vc, Memory * mem)
	{
		m_cpu = cpu;
		m_vc = vc;
		m_mem = mem;
	}

	//æä¾›å·¥ä½œçš„å‡½æ•°
	void work()
	{
		//è®©é›¶ä»¶å·¥ä½œèµ·æ¥ï¼Œè°ƒç”¨æ¥å£
		m_cpu-&gt;calculate();

		m_vc-&gt;display();

		m_mem-&gt;storage();
	}

	//æä¾›ææ„å‡½æ•° é‡Šæ”¾3ä¸ªç”µè„‘é›¶ä»¶
	~Computer()
	{

		//é‡Šæ”¾CPUé›¶ä»¶
		if (m_cpu != NULL)
		{
			delete m_cpu;
			m_cpu = NULL;
		}

		//é‡Šæ”¾æ˜¾å¡é›¶ä»¶
		if (m_vc != NULL)
		{
			delete m_vc;
			m_vc = NULL;
		}

		//é‡Šæ”¾å†…å­˜æ¡é›¶ä»¶
		if (m_mem != NULL)
		{
			delete m_mem;
			m_mem = NULL;
		}
	}

private:

	CPU * m_cpu; //CPUçš„é›¶ä»¶æŒ‡é’ˆ
	VideoCard * m_vc; //æ˜¾å¡é›¶ä»¶æŒ‡é’ˆ
	Memory * m_mem; //å†…å­˜æ¡é›¶ä»¶æŒ‡é’ˆ
};

//å…·ä½“å‚å•†
//Intelå‚å•†
class IntelCPU :public CPU
{
public:
	virtual void calculate()
	{
		cout &lt;&lt; &quot;Intelçš„CPUå¼€å§‹è®¡ç®—äº†ï¼&quot; &lt;&lt; endl;
	}
};

class IntelVideoCard :public VideoCard
{
public:
	virtual void display()
	{
		cout &lt;&lt; &quot;Intelçš„æ˜¾å¡å¼€å§‹æ˜¾ç¤ºäº†ï¼&quot; &lt;&lt; endl;
	}
};

class IntelMemory :public Memory
{
public:
	virtual void storage()
	{
		cout &lt;&lt; &quot;Intelçš„å†…å­˜æ¡å¼€å§‹å­˜å‚¨äº†ï¼&quot; &lt;&lt; endl;
	}
};

//Lenovoå‚å•†
class LenovoCPU :public CPU
{
public:
	virtual void calculate()
	{
		cout &lt;&lt; &quot;Lenovoçš„CPUå¼€å§‹è®¡ç®—äº†ï¼&quot; &lt;&lt; endl;
	}
};

class LenovoVideoCard :public VideoCard
{
public:
	virtual void display()
	{
		cout &lt;&lt; &quot;Lenovoçš„æ˜¾å¡å¼€å§‹æ˜¾ç¤ºäº†ï¼&quot; &lt;&lt; endl;
	}
};

class LenovoMemory :public Memory
{
public:
	virtual void storage()
	{
		cout &lt;&lt; &quot;Lenovoçš„å†…å­˜æ¡å¼€å§‹å­˜å‚¨äº†ï¼&quot; &lt;&lt; endl;
	}
};


void test01()
{
	//ç¬¬ä¸€å°ç”µè„‘é›¶ä»¶
	CPU * intelCpu = new IntelCPU;
	VideoCard * intelCard = new IntelVideoCard;
	Memory * intelMem = new IntelMemory;

	cout &lt;&lt; &quot;ç¬¬ä¸€å°ç”µè„‘å¼€å§‹å·¥ä½œï¼š&quot; &lt;&lt; endl;
	//åˆ›å»ºç¬¬ä¸€å°ç”µè„‘
	Computer * computer1 = new Computer(intelCpu, intelCard, intelMem);
	computer1-&gt;work();
	delete computer1;

	cout &lt;&lt; &quot;-----------------------&quot; &lt;&lt; endl;
	cout &lt;&lt; &quot;ç¬¬äºŒå°ç”µè„‘å¼€å§‹å·¥ä½œï¼š&quot; &lt;&lt; endl;
	//ç¬¬äºŒå°ç”µè„‘ç»„è£…
	Computer * computer2 = new Computer(new LenovoCPU, new LenovoVideoCard, new LenovoMemory);;
	computer2-&gt;work();
	delete computer2;

	cout &lt;&lt; &quot;-----------------------&quot; &lt;&lt; endl;
	cout &lt;&lt; &quot;ç¬¬ä¸‰å°ç”µè„‘å¼€å§‹å·¥ä½œï¼š&quot; &lt;&lt; endl;
	//ç¬¬ä¸‰å°ç”µè„‘ç»„è£…
	Computer * computer3 = new Computer(new LenovoCPU, new IntelVideoCard, new LenovoMemory);;
	computer3-&gt;work();
	delete computer3;

}
</code></pre>
<h2 id="5-æ–‡ä»¶æ“ä½œ">5 æ–‡ä»¶æ“ä½œ</h2>
<p>ç¨‹åºè¿è¡Œæ—¶äº§ç”Ÿçš„æ•°æ®éƒ½å±äºä¸´æ—¶æ•°æ®ï¼Œç¨‹åºä¸€æ—¦è¿è¡Œç»“æŸéƒ½ä¼šè¢«é‡Šæ”¾</p>
<p>é€šè¿‡<strong>æ–‡ä»¶å¯ä»¥å°†æ•°æ®æŒä¹…åŒ–</strong></p>
<p>C++ä¸­å¯¹æ–‡ä»¶æ“ä½œéœ€è¦åŒ…å«å¤´æ–‡ä»¶ <mark>&lt; fstream &gt;</mark></p>
<p>æ–‡ä»¶ç±»å‹åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ol>
<li><strong>æ–‡æœ¬æ–‡ä»¶</strong>     -  æ–‡ä»¶ä»¥æ–‡æœ¬çš„<strong>ASCIIç </strong>å½¢å¼å­˜å‚¨åœ¨è®¡ç®—æœºä¸­</li>
<li><strong>äºŒè¿›åˆ¶æ–‡ä»¶</strong> -  æ–‡ä»¶ä»¥æ–‡æœ¬çš„<strong>äºŒè¿›åˆ¶</strong>å½¢å¼å­˜å‚¨åœ¨è®¡ç®—æœºä¸­ï¼Œç”¨æˆ·ä¸€èˆ¬ä¸èƒ½ç›´æ¥è¯»æ‡‚å®ƒä»¬</li>
</ol>
<p>æ“ä½œæ–‡ä»¶çš„ä¸‰å¤§ç±»:</p>
<ol>
<li>ofstreamï¼šå†™æ“ä½œ</li>
<li>ifstreamï¼š è¯»æ“ä½œ</li>
<li>fstream ï¼š è¯»å†™æ“ä½œ</li>
</ol>
<h3 id="51æ–‡æœ¬æ–‡ä»¶">5.1æ–‡æœ¬æ–‡ä»¶</h3>
<h4 id="511å†™æ–‡ä»¶">5.1.1å†™æ–‡ä»¶</h4>
<p>å†™æ–‡ä»¶æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>åŒ…å«å¤´æ–‡ä»¶</p>
<p>#include &lt;fstream&gt;</p>
</li>
<li>
<p>åˆ›å»ºæµå¯¹è±¡</p>
<p>ofstream ofs;</p>
</li>
<li>
<p>æ‰“å¼€æ–‡ä»¶</p>
<p>ofs.open(&quot;æ–‡ä»¶è·¯å¾„&quot;,æ‰“å¼€æ–¹å¼);</p>
</li>
<li>
<p>å†™æ•°æ®</p>
<p>ofs &lt;&lt; &quot;å†™å…¥çš„æ•°æ®&quot;;</p>
</li>
<li>
<p>å…³é—­æ–‡ä»¶</p>
<p>ofs.close();</p>
</li>
</ol>
<p>æ–‡ä»¶æ‰“å¼€æ–¹å¼ï¼š</p>
<table>
<thead>
<tr>
<th>æ‰“å¼€æ–¹å¼</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td>ios::in</td>
<td>ä¸ºè¯»æ–‡ä»¶è€Œæ‰“å¼€æ–‡ä»¶</td>
</tr>
<tr>
<td>ios::out</td>
<td>ä¸ºå†™æ–‡ä»¶è€Œæ‰“å¼€æ–‡ä»¶</td>
</tr>
<tr>
<td>ios::ate</td>
<td>åˆå§‹ä½ç½®ï¼šæ–‡ä»¶å°¾</td>
</tr>
<tr>
<td>ios::app</td>
<td>è¿½åŠ æ–¹å¼å†™æ–‡ä»¶</td>
</tr>
<tr>
<td>ios::trunc</td>
<td>å¦‚æœæ–‡ä»¶å­˜åœ¨å…ˆåˆ é™¤ï¼Œå†åˆ›å»º</td>
</tr>
<tr>
<td>ios::binary</td>
<td>äºŒè¿›åˆ¶æ–¹å¼</td>
</tr>
</tbody>
</table>
<p><strong>æ³¨æ„ï¼š</strong> æ–‡ä»¶æ‰“å¼€æ–¹å¼å¯ä»¥é…åˆä½¿ç”¨ï¼Œåˆ©ç”¨|æ“ä½œç¬¦</p>
<p>**ä¾‹å¦‚ï¼š**ç”¨äºŒè¿›åˆ¶æ–¹å¼å†™æ–‡ä»¶ <code>ios::binary | ios:: out</code></p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">#include &lt;fstream&gt;

void test01()
{
	ofstream ofs;
	ofs.open(&quot;test.txt&quot;, ios::out);

	ofs &lt;&lt; &quot;å§“åï¼šå¼ ä¸‰&quot; &lt;&lt; endl;
	ofs &lt;&lt; &quot;æ€§åˆ«ï¼šç”·&quot; &lt;&lt; endl;
	ofs &lt;&lt; &quot;å¹´é¾„ï¼š18&quot; &lt;&lt; endl;

	ofs.close();
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>æ–‡ä»¶æ“ä½œå¿…é¡»åŒ…å«å¤´æ–‡ä»¶ fstream</li>
<li>è¯»æ–‡ä»¶å¯ä»¥åˆ©ç”¨ ofstream  ï¼Œæˆ–è€…fstreamç±»</li>
<li>æ‰“å¼€æ–‡ä»¶æ—¶å€™éœ€è¦æŒ‡å®šæ“ä½œæ–‡ä»¶çš„è·¯å¾„ï¼Œä»¥åŠæ‰“å¼€æ–¹å¼</li>
<li>åˆ©ç”¨&lt;&lt;å¯ä»¥å‘æ–‡ä»¶ä¸­å†™æ•°æ®</li>
<li>æ“ä½œå®Œæ¯•ï¼Œè¦å…³é—­æ–‡ä»¶</li>
</ul>
<h4 id="512è¯»æ–‡ä»¶">5.1.2è¯»æ–‡ä»¶</h4>
<p>è¯»æ–‡ä»¶ä¸å†™æ–‡ä»¶æ­¥éª¤ç›¸ä¼¼ï¼Œä½†æ˜¯è¯»å–æ–¹å¼ç›¸å¯¹äºæ¯”è¾ƒå¤š</p>
<p>è¯»æ–‡ä»¶æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>åŒ…å«å¤´æ–‡ä»¶</p>
<p>#include &lt;fstream&gt;</p>
</li>
<li>
<p>åˆ›å»ºæµå¯¹è±¡</p>
<p>ifstream ifs;</p>
</li>
<li>
<p>æ‰“å¼€æ–‡ä»¶å¹¶åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ‰“å¼€æˆåŠŸ</p>
<p>ifs.open(&quot;æ–‡ä»¶è·¯å¾„&quot;,æ‰“å¼€æ–¹å¼);</p>
</li>
<li>
<p>è¯»æ•°æ®</p>
<p>å››ç§æ–¹å¼è¯»å–</p>
</li>
<li>
<p>å…³é—­æ–‡ä»¶</p>
<p>ifs.close();</p>
</li>
</ol>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">#include &lt;fstream&gt;
#include &lt;string&gt;
void test01()
{
	ifstream ifs;
	ifs.open(&quot;test.txt&quot;, ios::in);

	if (!ifs.is_open())
	{
		cout &lt;&lt; &quot;æ–‡ä»¶æ‰“å¼€å¤±è´¥&quot; &lt;&lt; endl;
		return;
	}

	//ç¬¬ä¸€ç§æ–¹å¼
	//char buf[1024] = { 0 };
	//while (ifs &gt;&gt; buf)
	//{
	//	cout &lt;&lt; buf &lt;&lt; endl;
	//}

	//ç¬¬äºŒç§
	//char buf[1024] = { 0 };
	//while (ifs.getline(buf,sizeof(buf)))
	//{
	//	cout &lt;&lt; buf &lt;&lt; endl;
	//}

	//ç¬¬ä¸‰ç§
	//string buf;
	//while (getline(ifs, buf))
	//{
	//	cout &lt;&lt; buf &lt;&lt; endl;
	//}

	char c;
	while ((c = ifs.get()) != EOF)
	{
		cout &lt;&lt; c;
	}

	ifs.close();


}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>è¯»æ–‡ä»¶å¯ä»¥åˆ©ç”¨ ifstream  ï¼Œæˆ–è€…fstreamç±»</li>
<li>åˆ©ç”¨is_openå‡½æ•°å¯ä»¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ‰“å¼€æˆåŠŸ</li>
<li>close å…³é—­æ–‡ä»¶</li>
</ul>
<h3 id="52-äºŒè¿›åˆ¶æ–‡ä»¶">5.2 äºŒè¿›åˆ¶æ–‡ä»¶</h3>
<p>ä»¥äºŒè¿›åˆ¶çš„æ–¹å¼å¯¹æ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œ</p>
<p>æ‰“å¼€æ–¹å¼è¦æŒ‡å®šä¸º <mark>ios::binary</mark></p>
<h4 id="521-å†™æ–‡ä»¶">5.2.1 å†™æ–‡ä»¶</h4>
<p>äºŒè¿›åˆ¶æ–¹å¼å†™æ–‡ä»¶ä¸»è¦åˆ©ç”¨æµå¯¹è±¡è°ƒç”¨æˆå‘˜å‡½æ•°write</p>
<p>å‡½æ•°åŸå‹ ï¼š<code>ostream&amp; write(const char * buffer,int len);</code></p>
<p>å‚æ•°è§£é‡Šï¼šå­—ç¬¦æŒ‡é’ˆbufferæŒ‡å‘å†…å­˜ä¸­ä¸€æ®µå­˜å‚¨ç©ºé—´ã€‚lenæ˜¯è¯»å†™çš„å­—èŠ‚æ•°</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="language-C++">#include &lt;fstream&gt;
#include &lt;string&gt;

class Person
{
public:
	char m_Name[64];
	int m_Age;
};

//äºŒè¿›åˆ¶æ–‡ä»¶  å†™æ–‡ä»¶
void test01()
{
	//1ã€åŒ…å«å¤´æ–‡ä»¶

	//2ã€åˆ›å»ºè¾“å‡ºæµå¯¹è±¡
	ofstream ofs(&quot;person.txt&quot;, ios::out | ios::binary);
	
	//3ã€æ‰“å¼€æ–‡ä»¶
	//ofs.open(&quot;person.txt&quot;, ios::out | ios::binary);

	Person p = {&quot;å¼ ä¸‰&quot;  , 18};

	//4ã€å†™æ–‡ä»¶
	ofs.write((const char *)&amp;p, sizeof(p));

	//5ã€å…³é—­æ–‡ä»¶
	ofs.close();
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>æ–‡ä»¶è¾“å‡ºæµå¯¹è±¡ å¯ä»¥é€šè¿‡writeå‡½æ•°ï¼Œä»¥äºŒè¿›åˆ¶æ–¹å¼å†™æ•°æ®</li>
</ul>
<h4 id="522-è¯»æ–‡ä»¶">5.2.2 è¯»æ–‡ä»¶</h4>
<p>äºŒè¿›åˆ¶æ–¹å¼è¯»æ–‡ä»¶ä¸»è¦åˆ©ç”¨æµå¯¹è±¡è°ƒç”¨æˆå‘˜å‡½æ•°read</p>
<p>å‡½æ•°åŸå‹ï¼š<code>istream&amp; read(char *buffer,int len);</code></p>
<p>å‚æ•°è§£é‡Šï¼šå­—ç¬¦æŒ‡é’ˆbufferæŒ‡å‘å†…å­˜ä¸­ä¸€æ®µå­˜å‚¨ç©ºé—´ã€‚lenæ˜¯è¯»å†™çš„å­—èŠ‚æ•°</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-C++">#include &lt;fstream&gt;
#include &lt;string&gt;

class Person
{
public:
	char m_Name[64];
	int m_Age;
};

void test01()
{
	ifstream ifs(&quot;person.txt&quot;, ios::in | ios::binary);
	if (!ifs.is_open())
	{
		cout &lt;&lt; &quot;æ–‡ä»¶æ‰“å¼€å¤±è´¥&quot; &lt;&lt; endl;
	}

	Person p;
	ifs.read((char *)&amp;p, sizeof(p));

	cout &lt;&lt; &quot;å§“åï¼š &quot; &lt;&lt; p.m_Name &lt;&lt; &quot; å¹´é¾„ï¼š &quot; &lt;&lt; p.m_Age &lt;&lt; endl;
}

int main() {

	test01();

	system(&quot;pause&quot;);

	return 0;
}
</code></pre>
<ul>
<li>æ–‡ä»¶è¾“å…¥æµå¯¹è±¡ å¯ä»¥é€šè¿‡readå‡½æ•°ï¼Œä»¥äºŒè¿›åˆ¶æ–¹å¼è¯»æ•°æ®</li>
</ul>

            </div>
            
            
              <div class="next-post">
                <div class="next">ä¸‹ä¸€ç¯‡</div>
                <a href="https://tangyin1.github.io/post/mian-fei-da-jian-shu-yu-zi-ji-de-bo-ke-wang-zhan/">
                  <h3 class="post-title">
                    å…è´¹æ­å»ºå±äºè‡ªå·±çš„åšå®¢ç½‘ç«™
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>





  </body>
</html>
